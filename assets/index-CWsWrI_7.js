var qe=Object.defineProperty;var Je=(e,n,t)=>n in e?qe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var ye=(e,n,t)=>Je(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function K(){}function Ke(e){return e()}function Oe(){return Object.create(null)}function ee(e){e.forEach(Ke)}function Re(e){return typeof e=="function"}function De(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function Qe(e){return Object.keys(e).length===0}function o(e,n){e.appendChild(n)}function I(e,n,t){e.insertBefore(n,t||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function x(e){return document.createTextNode(e)}function y(){return x(" ")}function Xe(){return x("")}function F(e,n,t,i){return e.addEventListener(n,t,i),()=>e.removeEventListener(n,t,i)}function a(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Ze(e){return Array.from(e.childNodes)}function W(e,n){n=""+n,e.data!==n&&(e.data=n)}function ne(e,n,t,i){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,"")}function $e(e,n,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:n,bubbles:t,cancelable:i})}let ge;function ce(e){ge=e}function Ge(){if(!ge)throw new Error("Function called outside component initialization");return ge}function et(e){Ge().$$.on_mount.push(e)}function Be(){const e=Ge();return(n,t,{cancelable:i=!1}={})=>{const s=e.$$.callbacks[n];if(s){const r=$e(n,t,{cancelable:i});return s.slice().forEach(p=>{p.call(e,r)}),!r.defaultPrevented}return!0}}const ae=[],we=[];let de=[];const xe=[],tt=Promise.resolve();let Se=!1;function nt(){Se||(Se=!0,tt.then(Ue))}function Ce(e){de.push(e)}function ot(e){xe.push(e)}const ve=new Set;let se=0;function Ue(){if(se!==0)return;const e=ge;do{try{for(;se<ae.length;){const n=ae[se];se++,ce(n),it(n.$$)}}catch(n){throw ae.length=0,se=0,n}for(ce(null),ae.length=0,se=0;we.length;)we.pop()();for(let n=0;n<de.length;n+=1){const t=de[n];ve.has(t)||(ve.add(t),t())}de.length=0}while(ae.length);for(;xe.length;)xe.pop()();Se=!1,ve.clear(),ce(e)}function it(e){if(e.fragment!==null){e.update(),ee(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(Ce)}}function rt(e){const n=[],t=[];de.forEach(i=>e.indexOf(i)===-1?n.push(i):t.push(i)),t.forEach(i=>i()),de=n}const be=new Set;let ie;function Ve(){ie={r:0,c:[],p:ie}}function Ye(){ie.r||ee(ie.c),ie=ie.p}function re(e,n){e&&e.i&&(be.delete(e),e.i(n))}function ue(e,n,t,i){if(e&&e.o){if(be.has(e))return;be.add(e),ie.c.push(()=>{be.delete(e),i&&(t&&e.d(1),i())}),e.o(n)}else i&&i()}function lt(e,n,t){const i=e.$$.props[n];i!==void 0&&(e.$$.bound[i]=t,t(e.$$.ctx[i]))}function He(e){e&&e.c()}function Ee(e,n,t){const{fragment:i,after_update:s}=e.$$;i&&i.m(n,t),Ce(()=>{const r=e.$$.on_mount.map(Ke).filter(Re);e.$$.on_destroy?e.$$.on_destroy.push(...r):ee(r),e.$$.on_mount=[]}),s.forEach(Ce)}function Pe(e,n){const t=e.$$;t.fragment!==null&&(rt(t.after_update),ee(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function st(e,n){e.$$.dirty[0]===-1&&(ae.push(e),nt(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Me(e,n,t,i,s,r,p=null,f=[-1]){const m=ge;ce(e);const d=e.$$={fragment:null,ctx:[],props:r,update:K,not_equal:s,bound:Oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(m?m.$$.context:[])),callbacks:Oe(),dirty:f,skip_bound:!1,root:n.target||m.$$.root};p&&p(d.root);let c=!1;if(d.ctx=t?t(e,n.props||{},(l,g,...h)=>{const b=h.length?h[0]:g;return d.ctx&&s(d.ctx[l],d.ctx[l]=b)&&(!d.skip_bound&&d.bound[l]&&d.bound[l](b),c&&st(e,l)),g}):[],d.update(),c=!0,ee(d.before_update),d.fragment=i?i(d.ctx):!1,n.target){if(n.hydrate){const l=Ze(n.target);d.fragment&&d.fragment.l(l),l.forEach(M)}else d.fragment&&d.fragment.c();n.intro&&re(e.$$.fragment),Ee(e,n.target,n.anchor),Ue()}ce(m)}class Ie{constructor(){ye(this,"$$");ye(this,"$$set")}$destroy(){Pe(this,1),this.$destroy=K}$on(n,t){if(!Re(t))return K;const i=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(n){this.$$set&&!Qe(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const at="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(at);function Te(e){let n,t,i=e[4]&&Math.abs(e[2])>20,s,r,p,f,m,d=e[8]?"Word":"Definition",c,l,g,h=(e[8]?e[1].word:e[1].definition)+"",b,k,w,C,j=e[8]?"definition":"word",N,B,U,D,L,R=e[8]?"Definition":"Word",v,Q,V,Y=(e[8]?e[1].definition:e[1].word)+"",z,X,q,G,S,O,A,$,H,E=i&&Fe(e);return{c(){n=u("div"),t=u("div"),E&&E.c(),s=y(),r=u("div"),p=u("div"),f=u("div"),m=u("div"),c=x(d),l=y(),g=u("div"),b=x(h),k=y(),w=u("div"),C=x("Click to reveal "),N=x(j),B=y(),U=u("div"),D=u("div"),L=u("div"),v=x(R),Q=y(),V=u("div"),z=x(Y),q=y(),G=u("div"),S=u("button"),S.textContent="Don't Know",O=y(),A=u("button"),A.textContent="I Know This",a(m,"class","text-sm text-gray-500 dark:text-gray-400 mb-2"),a(g,"class","text-2xl md:text-3xl font-semibold text-gray-800 dark:text-white break-words"),a(w,"class","mt-6 text-sm text-gray-500 dark:text-gray-400"),a(f,"class","text-center svelte-alf5mj"),a(p,"class","flashcard-face flashcard-front bg-white dark:bg-gray-800 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center svelte-alf5mj"),a(L,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),a(V,"class","text-2xl md:text-3xl font-semibold text-blue-800 dark:text-blue-200 break-words"),a(D,"class","text-center svelte-alf5mj"),a(U,"class","flashcard-face flashcard-back bg-blue-50 dark:bg-blue-900 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center svelte-alf5mj"),a(r,"class",X="flashcard-container cursor-pointer transform-style-preserve-3d transition-all duration-300 "+(e[0]?"rotate-y-180":"")+" "+(e[5]?"transition-transform":"")+" svelte-alf5mj"),ne(r,"transform","translateX("+e[2]+"px) "+(e[0]?"rotateY(180deg)":"")),a(r,"role","button"),a(r,"tabindex","0"),a(t,"class","relative perspective-1000 mb-8 svelte-alf5mj"),a(S,"class","bg-red-500 hover:bg-red-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200"),a(A,"class","bg-green-500 hover:bg-green-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200"),a(G,"class","flex gap-6 justify-center mt-6"),a(n,"class","max-w-2xl mx-auto")},m(P,_){I(P,n,_),o(n,t),E&&E.m(t,null),o(t,s),o(t,r),o(r,p),o(p,f),o(f,m),o(m,c),o(f,l),o(f,g),o(g,b),o(f,k),o(f,w),o(w,C),o(w,N),o(r,B),o(r,U),o(U,D),o(D,L),o(L,v),o(D,Q),o(D,V),o(V,z),e[16](r),o(n,q),o(n,G),o(G,S),o(G,O),o(G,A),$||(H=[F(r,"click",e[9]),F(r,"keydown",e[17]),F(r,"mousedown",e[12]),F(r,"mousemove",e[13]),F(r,"mouseup",e[14]),F(r,"mouseleave",e[14]),F(r,"touchstart",e[12]),F(r,"touchmove",e[13]),F(r,"touchend",e[14],{passive:!0}),F(S,"click",e[11]),F(A,"click",e[10])],$=!0)},p(P,_){_&20&&(i=P[4]&&Math.abs(P[2])>20),i?E?E.p(P,_):(E=Fe(P),E.c(),E.m(t,s)):E&&(E.d(1),E=null),_&256&&d!==(d=P[8]?"Word":"Definition")&&W(c,d),_&258&&h!==(h=(P[8]?P[1].word:P[1].definition)+"")&&W(b,h),_&256&&j!==(j=P[8]?"definition":"word")&&W(N,j),_&256&&R!==(R=P[8]?"Definition":"Word")&&W(v,R),_&258&&Y!==(Y=(P[8]?P[1].definition:P[1].word)+"")&&W(z,Y),_&33&&X!==(X="flashcard-container cursor-pointer transform-style-preserve-3d transition-all duration-300 "+(P[0]?"rotate-y-180":"")+" "+(P[5]?"transition-transform":"")+" svelte-alf5mj")&&a(r,"class",X),_&5&&ne(r,"transform","translateX("+P[2]+"px) "+(P[0]?"rotateY(180deg)":""))},d(P){P&&M(n),E&&E.d(),e[16](null),$=!1,ee(H)}}}function Fe(e){let n,t,i,s,r;return{c(){n=u("div"),t=u("div"),t.textContent="Don't Know",i=y(),s=u("div"),r=u("div"),r.textContent="I Know This",a(t,"class","bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium"),a(n,"class","absolute top-1/2 left-4 transform -translate-y-1/2 z-20 pointer-events-none transition-opacity duration-200"),ne(n,"opacity",e[6]==="left"?e[7]:0),a(r,"class","bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium"),a(s,"class","absolute top-1/2 right-4 transform -translate-y-1/2 z-20 pointer-events-none transition-opacity duration-200"),ne(s,"opacity",e[6]==="right"?e[7]:0)},m(p,f){I(p,n,f),o(n,t),I(p,i,f),I(p,s,f),o(s,r)},p(p,f){f&192&&ne(n,"opacity",p[6]==="left"?p[7]:0),f&192&&ne(s,"opacity",p[6]==="right"?p[7]:0)},d(p){p&&(M(n),M(i),M(s))}}}function dt(e){let n,t=e[1]&&Te(e);return{c(){t&&t.c(),n=Xe()},m(i,s){t&&t.m(i,s),I(i,n,s)},p(i,[s]){i[1]?t?t.p(i,s):(t=Te(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:K,o:K,d(i){i&&M(n),t&&t.d(i)}}}function ut(e,n,t){let i,s,r;const p=Be();let{currentCard:f}=n,{studyMode:m="word-to-definition"}=n,{showDefinition:d=!1}=n,c,l=!1,g=0,h=0,b=0,k=!1;function w(){t(0,d=!d)}function C(){p("known")}function j(){p("unknown")}function N(v){k||(t(4,l=!0),g=v.type==="mousedown"?v.clientX:v.touches[0].clientX,h=g,t(2,b=0))}function B(v){!l||k||(v.preventDefault(),h=v.type==="mousemove"?v.clientX:v.touches[0].clientX,t(2,b=h-g),t(2,b=Math.max(-200,Math.min(200,b))))}function U(){if(!l||k)return;t(4,l=!1),t(5,k=!0);const v=80;b>v?(t(2,b=300),setTimeout(()=>{C(),D()},200)):b<-v?(t(2,b=-300),setTimeout(()=>{j(),D()},200)):(t(2,b=0),setTimeout(()=>{t(5,k=!1)},200))}function D(){t(2,b=0),t(5,k=!1)}function L(v){we[v?"unshift":"push"](()=>{c=v,t(3,c)})}const R=v=>v.key===" "&&w();return e.$$set=v=>{"currentCard"in v&&t(1,f=v.currentCard),"studyMode"in v&&t(15,m=v.studyMode),"showDefinition"in v&&t(0,d=v.showDefinition)},e.$$.update=()=>{e.$$.dirty&32768&&t(8,i=m==="word-to-definition"),e.$$.dirty&4&&t(7,s=Math.abs(b)/200),e.$$.dirty&4&&t(6,r=b>0?"right":"left")},[d,f,b,c,l,k,r,s,i,w,C,j,N,B,U,m,L,R]}class ft extends Ie{constructor(n){super(),Me(this,n,ut,dt,De,{currentCard:1,studyMode:15,showDefinition:0})}}function ct(e){let n;return{c(){n=x("📁 Browse Google Drive")},m(t,i){I(t,n,i)},d(t){t&&M(n)}}}function gt(e){let n;return{c(){n=x("Picker Failed to Load")},m(t,i){I(t,n,i)},d(t){t&&M(n)}}}function pt(e){let n;return{c(){n=x("Loading Picker...")},m(t,i){I(t,n,i)},d(t){t&&M(n)}}}function mt(e){let n,t,i,s,r,p,f,m,d,c,l,g;function h(w,C){return w[1]?pt:w[0]?ct:gt}let b=h(e),k=b(e);return{c(){n=u("div"),t=u("div"),i=u("h2"),i.textContent="📊 Select Spreadsheet",s=y(),r=u("p"),r.textContent="Choose a Google Sheets document containing your flashcard data.",p=y(),f=u("p"),f.textContent=`Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns,
      and optionally a "StatsData" sheet for saving progress.`,m=y(),d=u("button"),k.c(),a(i,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),a(r,"class","text-gray-600 dark:text-gray-300 mb-6"),a(f,"class","text-sm text-gray-500 dark:text-gray-400 mb-6"),d.disabled=c=!e[0]||e[1],a(d,"class","bg-green-500 hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(n,"class","text-center")},m(w,C){I(w,n,C),o(n,t),o(t,i),o(t,s),o(t,r),o(t,p),o(t,f),o(t,m),o(t,d),k.m(d,null),l||(g=F(d,"click",e[2]),l=!0)},p(w,[C]){b!==(b=h(w))&&(k.d(1),k=b(w),k&&(k.c(),k.m(d,null))),C&3&&c!==(c=!w[0]||w[1])&&(d.disabled=c)},i:K,o:K,d(w){w&&M(n),k.d(),l=!1,g()}}}function ht(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}function bt(){var e;return(e=window.gapi.client.getToken())==null?void 0:e.access_token}function wt(e,n,t){const i=Be();let s=!1,r=!0;async function p(){try{await ht(),await f()}catch(c){console.error("Failed to initialize picker:",c)}finally{t(1,r=!1)}}function f(){return new Promise((c,l)=>{window.gapi.load("picker",{callback:()=>{t(0,s=!0),c()},onerror:l})})}function m(){if(s&&window.gapi.client.getToken()){const c=bt(),l=new google.picker.View(google.picker.ViewId.SPREADSHEETS);l.setMimeTypes("application/vnd.google-apps.spreadsheet"),new google.picker.PickerBuilder().enableFeature(google.picker.Feature.SUPPORT_DRIVES).setOAuthToken(c).addView(l).setCallback(d).build().setVisible(!0)}}function d(c){if(c.action===google.picker.Action.PICKED){const l=c.docs[0].id,g=c.docs[0].name;i("selected",{id:l,name:g})}}return typeof window<"u"&&p(),[s,r,m]}class _t extends Ie{constructor(n){super(),Me(this,n,wt,mt,De,{})}}function kt(e){let n,t,i,s,r,p,f=e[6].total>0&&Ne(e);const m=[Dt,Ct,St,xt,vt],d=[];function c(g,h){return g[4]?g[7]?1:g[10]&&!g[9]?2:g[9]?3:4:0}t=c(e),i=d[t]=m[t](e);let l=(!e[10]||e[7])&&We(e);return{c(){f&&f.c(),n=y(),i.c(),s=y(),l&&l.c(),r=Xe()},m(g,h){f&&f.m(g,h),I(g,n,h),d[t].m(g,h),I(g,s,h),l&&l.m(g,h),I(g,r,h),p=!0},p(g,h){g[6].total>0?f?f.p(g,h):(f=Ne(g),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null);let b=t;t=c(g),t===b?d[t].p(g,h):(Ve(),ue(d[b],1,1,()=>{d[b]=null}),Ye(),i=d[t],i?i.p(g,h):(i=d[t]=m[t](g),i.c()),re(i,1),i.m(s.parentNode,s)),!g[10]||g[7]?l?l.p(g,h):(l=We(g),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i(g){p||(re(i),p=!0)},o(g){ue(i),p=!1},d(g){g&&(M(n),M(s),M(r)),f&&f.d(g),d[t].d(g),l&&l.d(g)}}}function yt(e){let n,t,i,s,r,p,f,m,d;return{c(){n=u("div"),t=u("div"),i=u("h2"),i.textContent="Welcome!",s=y(),r=u("p"),r.textContent="Sign in with your Google account to access your flashcard spreadsheets.",p=y(),f=u("button"),f.textContent="Sign in with Google",a(i,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),a(r,"class","text-gray-600 dark:text-gray-300 mb-6"),a(f,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(n,"class","text-center")},m(c,l){I(c,n,l),o(n,t),o(t,i),o(t,s),o(t,r),o(t,p),o(t,f),m||(d=F(f,"click",e[12]),m=!0)},p:K,i:K,o:K,d(c){c&&M(n),m=!1,d()}}}function Ne(e){let n,t,i,s=e[6].known+"",r,p,f=e[6].unknown+"",m,d,c=e[6].total+"",l,g,h,b,k;return{c(){n=u("div"),t=u("div"),i=u("span"),r=x(s),p=x(" ✅ "),m=x(f),d=x(" ❌ / "),l=x(c),g=y(),h=u("button"),h.textContent="Reset Deck",a(i,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),a(h,"class","ml-4 bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow"),a(n,"class","flex justify-center mb-6")},m(w,C){I(w,n,C),o(n,t),o(t,i),o(i,r),o(i,p),o(i,m),o(i,d),o(i,l),o(t,g),o(t,h),b||(k=F(h,"click",e[15]),b=!0)},p(w,C){C&64&&s!==(s=w[6].known+"")&&W(r,s),C&64&&f!==(f=w[6].unknown+"")&&W(m,f),C&64&&c!==(c=w[6].total+"")&&W(l,c)},d(w){w&&M(n),b=!1,k()}}}function vt(e){let n,t,i,s,r,p,f,m,d,c,l,g=e[3]?`Signed in as ${e[3].name}`:"Signed in",h,b,k,w,C;return{c(){n=u("div"),t=u("div"),i=u("h3"),i.textContent="No flashcards found",s=y(),r=u("p"),r.textContent='Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns.',p=y(),f=u("button"),f.textContent="Choose Different Spreadsheet",m=y(),d=u("div"),c=u("div"),l=u("span"),h=x(g),b=y(),k=u("button"),k.textContent="Sign Out",a(i,"class","text-xl font-semibold mb-4 text-gray-800 dark:text-white"),a(r,"class","text-gray-600 dark:text-gray-300 mb-4"),a(f,"class","bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"),a(l,"class","text-gray-600 dark:text-gray-300 text-sm"),a(k,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(c,"class","flex justify-center items-center gap-4"),a(d,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700"),a(n,"class","text-center")},m(j,N){I(j,n,N),o(n,t),o(t,i),o(t,s),o(t,r),o(t,p),o(t,f),o(n,m),o(n,d),o(d,c),o(c,l),o(l,h),o(c,b),o(c,k),w||(C=[F(f,"click",e[24]),F(k,"click",e[13])],w=!0)},p(j,N){N&8&&g!==(g=j[3]?`Signed in as ${j[3].name}`:"Signed in")&&W(h,g)},i:K,o:K,d(j){j&&M(n),w=!1,ee(C)}}}function xt(e){let n,t,i,s,r,p,f=e[0].length+"",m,d,c,l,g,h,b,k,w,C=e[6].total+"",j,N,B,U,D,L,R=e[6].known+"",v,Q,V,Y,z,X,q=e[6].unknown+"",G,S,O,A,$,H,E,P,_,T,oe,pe,le,me,he=e[3]?`Signed in as ${e[3].name}`:"Signed in",_e,je,fe,ke,Ae,J=e[6].total>0&&Le(e);return{c(){n=u("div"),t=u("div"),i=u("h2"),i.textContent="🎉 Deck Complete!",s=y(),r=u("p"),p=x("You've finished all "),m=x(f),d=x(" cards in this deck."),c=y(),l=u("div"),g=u("h3"),g.textContent="Session Stats",h=y(),b=u("div"),k=u("div"),w=u("div"),j=x(C),N=y(),B=u("div"),B.textContent="Total",U=y(),D=u("div"),L=u("div"),v=x(R),Q=y(),V=u("div"),V.textContent="Known",Y=y(),z=u("div"),X=u("div"),G=x(q),S=y(),O=u("div"),O.textContent="Unknown",A=y(),J&&J.c(),$=y(),H=u("div"),E=u("button"),E.textContent="🔄 Study Again",P=y(),_=u("div"),T=u("button"),T.textContent="Choose Different Spreadsheet",oe=y(),pe=u("div"),le=u("div"),me=u("span"),_e=x(he),je=y(),fe=u("button"),fe.textContent="Sign Out",a(i,"class","text-3xl font-bold mb-4 text-gray-800 dark:text-white"),a(r,"class","text-gray-600 dark:text-gray-300 mb-6"),a(g,"class","text-lg font-semibold mb-4 text-gray-800 dark:text-white"),a(w,"class","text-2xl font-bold text-blue-600 dark:text-blue-400"),a(B,"class","text-sm text-gray-600 dark:text-gray-300"),a(L,"class","text-2xl font-bold text-green-600 dark:text-green-400"),a(V,"class","text-sm text-gray-600 dark:text-gray-300"),a(X,"class","text-2xl font-bold text-red-600 dark:text-red-400"),a(O,"class","text-sm text-gray-600 dark:text-gray-300"),a(b,"class","grid grid-cols-3 gap-4 text-center"),a(l,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-6 mb-6"),a(E,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200"),a(H,"class","flex justify-center"),a(T,"class","text-blue-500 hover:text-blue-600 underline"),a(_,"class","mt-6"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(me,"class","text-gray-600 dark:text-gray-300 text-sm"),a(fe,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(le,"class","flex justify-center items-center gap-4"),a(pe,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700"),a(n,"class","text-center")},m(Z,te){I(Z,n,te),o(n,t),o(t,i),o(t,s),o(t,r),o(r,p),o(r,m),o(r,d),o(t,c),o(t,l),o(l,g),o(l,h),o(l,b),o(b,k),o(k,w),o(w,j),o(k,N),o(k,B),o(b,U),o(b,D),o(D,L),o(L,v),o(D,Q),o(D,V),o(b,Y),o(b,z),o(z,X),o(X,G),o(z,S),o(z,O),o(l,A),J&&J.m(l,null),o(t,$),o(t,H),o(H,E),o(t,P),o(t,_),o(_,T),o(n,oe),o(n,pe),o(pe,le),o(le,me),o(me,_e),o(le,je),o(le,fe),ke||(Ae=[F(E,"click",e[20]),F(T,"click",e[23]),F(fe,"click",e[13])],ke=!0)},p(Z,te){te&1&&f!==(f=Z[0].length+"")&&W(m,f),te&64&&C!==(C=Z[6].total+"")&&W(j,C),te&64&&R!==(R=Z[6].known+"")&&W(v,R),te&64&&q!==(q=Z[6].unknown+"")&&W(G,q),Z[6].total>0?J?J.p(Z,te):(J=Le(Z),J.c(),J.m(l,null)):J&&(J.d(1),J=null),te&8&&he!==(he=Z[3]?`Signed in as ${Z[3].name}`:"Signed in")&&W(_e,he)},i:K,o:K,d(Z){Z&&M(n),J&&J.d(),ke=!1,ee(Ae)}}}function St(e){let n,t,i,s=e[1]+1+"",r,p,f=e[0].length+"",m,d,c,l,g,h,b,k,w,C,j,N=e[8]==="word-to-definition"?"Word → Definition":"Definition → Word",B,U,D,L,R,v,Q,V,Y,z,X,q=e[3]?`Signed in as ${e[3].name}`:"Signed in",G,S,O,A,$,H;function E(_){e[21](_)}let P={currentCard:e[11],studyMode:e[8]};return e[5]!==void 0&&(P.showDefinition=e[5]),D=new ft({props:P}),we.push(()=>lt(D,"showDefinition",E)),D.$on("known",e[18]),D.$on("unknown",e[19]),D.$on("next",e[17]),{c(){n=u("div"),t=u("span"),i=x("Card "),r=x(s),p=x(" of "),m=x(f),d=y(),c=u("div"),l=u("span"),l.textContent="Study Mode:",g=y(),h=u("button"),b=u("span"),C=y(),j=u("span"),B=x(N),U=y(),He(D.$$.fragment),R=y(),v=u("div"),Q=u("button"),Q.textContent="Choose Different Spreadsheet",V=y(),Y=u("div"),z=u("div"),X=u("span"),G=x(q),S=y(),O=u("button"),O.textContent="Sign Out",a(t,"class","text-gray-600 dark:text-gray-300"),a(l,"class","text-sm text-gray-600 dark:text-gray-300 hidden sm:inline"),a(b,"class",k="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(e[8]==="word-to-definition"?"translate-x-6":"translate-x-1")),a(h,"class",w="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(e[8]==="word-to-definition"?"bg-blue-500":"bg-gray-400")),a(j,"class","text-sm text-gray-600 dark:text-gray-300 min-w-0"),a(c,"class","flex items-center gap-3"),a(n,"class","flex justify-between items-center mb-4"),a(Q,"class","text-blue-500 hover:text-blue-600 underline"),a(v,"class","text-center mt-6"),a(X,"class","text-gray-600 dark:text-gray-300 text-sm"),a(O,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(z,"class","flex justify-center items-center gap-4"),a(Y,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700")},m(_,T){I(_,n,T),o(n,t),o(t,i),o(t,r),o(t,p),o(t,m),o(n,d),o(n,c),o(c,l),o(c,g),o(c,h),o(h,b),o(c,C),o(c,j),o(j,B),I(_,U,T),Ee(D,_,T),I(_,R,T),I(_,v,T),o(v,Q),I(_,V,T),I(_,Y,T),o(Y,z),o(z,X),o(X,G),o(z,S),o(z,O),A=!0,$||(H=[F(h,"click",e[16]),F(Q,"click",e[22]),F(O,"click",e[13])],$=!0)},p(_,T){(!A||T&2)&&s!==(s=_[1]+1+"")&&W(r,s),(!A||T&1)&&f!==(f=_[0].length+"")&&W(m,f),(!A||T&256&&k!==(k="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(_[8]==="word-to-definition"?"translate-x-6":"translate-x-1")))&&a(b,"class",k),(!A||T&256&&w!==(w="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(_[8]==="word-to-definition"?"bg-blue-500":"bg-gray-400")))&&a(h,"class",w),(!A||T&256)&&N!==(N=_[8]==="word-to-definition"?"Word → Definition":"Definition → Word")&&W(B,N);const oe={};T&2048&&(oe.currentCard=_[11]),T&256&&(oe.studyMode=_[8]),!L&&T&32&&(L=!0,oe.showDefinition=_[5],ot(()=>L=!1)),D.$set(oe),(!A||T&8)&&q!==(q=_[3]?`Signed in as ${_[3].name}`:"Signed in")&&W(G,q)},i(_){A||(re(D.$$.fragment,_),A=!0)},o(_){ue(D.$$.fragment,_),A=!1},d(_){_&&(M(n),M(U),M(R),M(v),M(V),M(Y)),Pe(D,_),$=!1,ee(H)}}}function Ct(e){let n;return{c(){n=u("div"),n.innerHTML='<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div> <p class="text-gray-600 dark:text-gray-300">Loading flashcards...</p></div>',a(n,"class","text-center")},m(t,i){I(t,n,i)},p:K,i:K,o:K,d(t){t&&M(n)}}}function Dt(e){let n,t;return n=new _t({}),n.$on("selected",e[14]),{c(){He(n.$$.fragment)},m(i,s){Ee(n,i,s),t=!0},p:K,i(i){t||(re(n.$$.fragment,i),t=!0)},o(i){ue(n.$$.fragment,i),t=!1},d(i){Pe(n,i)}}}function Le(e){let n,t,i,s=Math.round(e[6].known/e[6].total*100)+"",r,p,f,m,d;return{c(){n=u("div"),t=u("div"),i=x("Accuracy: "),r=x(s),p=x("%"),f=y(),m=u("div"),d=u("div"),a(t,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),a(d,"class","bg-green-500 h-2 rounded-full transition-all duration-300"),ne(d,"width",e[6].known/e[6].total*100+"%"),a(m,"class","w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2"),a(n,"class","mt-4")},m(c,l){I(c,n,l),o(n,t),o(t,i),o(t,r),o(t,p),o(n,f),o(n,m),o(m,d)},p(c,l){l&64&&s!==(s=Math.round(c[6].known/c[6].total*100)+"")&&W(r,s),l&64&&ne(d,"width",c[6].known/c[6].total*100+"%")},d(c){c&&M(n)}}}function We(e){let n,t,i,s=e[3]?`Signed in as ${e[3].name}`:"Signed in",r,p,f,m,d;return{c(){n=u("div"),t=u("div"),i=u("span"),r=x(s),p=y(),f=u("button"),f.textContent="Sign Out",a(i,"class","text-gray-600 dark:text-gray-300 text-sm"),a(f,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(t,"class","flex justify-center items-center gap-4"),a(n,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700")},m(c,l){I(c,n,l),o(n,t),o(t,i),o(i,r),o(t,p),o(t,f),m||(d=F(f,"click",e[13]),m=!0)},p(c,l){l&8&&s!==(s=c[3]?`Signed in as ${c[3].name}`:"Signed in")&&W(r,s)},d(c){c&&M(n),m=!1,d()}}}function Et(e){let n,t,i,s,r,p,f;const m=[yt,kt],d=[];function c(l,g){return l[2]?1:0}return r=c(e),p=d[r]=m[r](e),{c(){n=u("main"),t=u("div"),i=u("header"),i.innerHTML='<h1 class="text-4xl font-bold text-gray-800 dark:text-white mb-2">mFlashcards</h1>',s=y(),p.c(),a(i,"class","text-center mb-8"),a(t,"class","max-w-4xl mx-auto"),a(n,"class","min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4")},m(l,g){I(l,n,g),o(n,t),o(t,i),o(t,s),d[r].m(t,null),f=!0},p(l,[g]){let h=r;r=c(l),r===h?d[r].p(l,g):(Ve(),ue(d[h],1,1,()=>{d[h]=null}),Ye(),p=d[r],p?p.p(l,g):(p=d[r]=m[r](l),p.c()),re(p,1),p.m(t,null))},i(l){f||(re(p),f=!0)},o(l){ue(p),f=!1},d(l){l&&M(n),d[r].d()}}}const Pt="https://sheets.googleapis.com/$discovery/rest?version=v4",Mt="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/userinfo.profile";function It(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}async function jt(){await new Promise(e=>{window.gapi.load("client",e)}),await window.gapi.client.init({discoveryDocs:[Pt]})}function ze(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}}function At(e,n,t){let i,s,r=!1,p=null,f=null,m=null,d=[],c=0,l=!1,g={total:0,known:0,unknown:0},h=!1,b="word-to-definition",k=!1,w;et(async()=>{if(typeof window<"u"){await It(),await jt(),await C();const S=localStorage.getItem("google_access_token"),O=localStorage.getItem("user_profile");if(S)if(p=S,window.gapi.client.setToken({access_token:p}),t(2,r=!0),O)try{t(3,f=JSON.parse(O))}catch(A){console.error("Error parsing saved profile:",A),await N()}else await N()}});async function C(){w=google.accounts.oauth2.initTokenClient({client_id:"828760418951-ss53asiek3mm9djh818op49fgl4apj3m.apps.googleusercontent.com",scope:Mt,callback:async S=>{S.access_token&&(p=S.access_token,localStorage.setItem("google_access_token",p),window.gapi.client.setToken({access_token:p}),t(2,r=!0),await N())}})}function j(){w&&w.requestAccessToken()}async function N(){try{const S=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${p}`}});S.ok&&(t(3,f=await S.json()),localStorage.setItem("user_profile",JSON.stringify(f)))}catch(S){console.error("Error fetching user profile:",S)}}function B(){p&&(google.accounts.oauth2.revoke(p),localStorage.removeItem("google_access_token"),localStorage.removeItem("user_profile")),t(2,r=!1),p=null,t(3,f=null),t(4,m=null),t(0,d=[]),L()}async function U(S){t(4,m=S.detail.id),await D()}async function D(){if(m){t(7,h=!0);try{const A=((await window.gapi.client.sheets.spreadsheets.get({spreadsheetId:m})).result.sheets||[]).map(E=>E.properties.title);if(console.log("Available sheets:",A),!A.includes("mFlashcards"))throw new Error(`mFlashcards sheet not found. Available sheets: ${A.join(", ")}`);const H=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:m,range:"mFlashcards!A:B"})).result.values||[];if(console.log("Raw data from sheet:",H),H.length===0)throw new Error("mFlashcards sheet is empty");if(H.length===1)throw new Error("mFlashcards sheet only has headers. Add some flashcard data below the headers.");if(t(0,d=H.slice(1).map(([E,P])=>({word:E||"",definition:P||""})).filter(E=>E.word&&E.definition)),d.length===0)throw new Error("No valid flashcard pairs found. Make sure both Word and Definition columns have data.");ze(d),L(),console.log("Loaded flashcards:",d)}catch(S){console.error("Error loading spreadsheet data:",S);let O="Error loading spreadsheet data: ";S.status===403?O+="Permission denied. Make sure the spreadsheet is accessible and you have edit permissions.":S.status===404?O+="Spreadsheet not found. Make sure you selected the correct file.":S.message?O+=S.message:O+="Unknown error occurred.",alert(O)}finally{t(7,h=!1)}}}function L(){t(1,c=0),t(5,l=!1),t(6,g={total:0,known:0,unknown:0}),t(9,k=!1)}function R(){t(8,b=b==="word-to-definition"?"definition-to-word":"word-to-definition"),t(5,l=!1)}function v(){t(5,l=!1),t(1,c=c+1),c>=d.length&&t(9,k=!0)}function Q(){t(6,g.total++,g),t(6,g.known++,g),v()}function V(){t(6,g.total++,g),t(6,g.unknown++,g),v()}function Y(){ze(d),L()}function z(S){l=S,t(5,l)}const X=()=>t(4,m=null),q=()=>t(4,m=null),G=()=>t(4,m=null);return e.$$.update=()=>{e.$$.dirty&3&&t(11,i=d[c]),e.$$.dirty&1&&t(10,s=d.length>0)},[d,c,r,f,m,l,g,h,b,k,s,i,j,B,U,L,R,v,Q,V,Y,z,X,q,G]}class Ot extends Ie{constructor(n){super(),Me(this,n,At,Et,De,{})}}new Ot({target:document.getElementById("app")});
//# sourceMappingURL=index-CWsWrI_7.js.map
