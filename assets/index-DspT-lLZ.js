var Ye=Object.defineProperty;var He=(e,n,t)=>n in e?Ye(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var ye=(e,n,t)=>He(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=t(l);fetch(l.href,s)}})();function X(){}function ze(e){return e()}function Ae(){return Object.create(null)}function te(e){e.forEach(ze)}function Re(e){return typeof e=="function"}function De(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function Je(e){return Object.keys(e).length===0}function r(e,n){e.appendChild(n)}function A(e,n,t){e.insertBefore(n,t||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function x(){return C(" ")}function Xe(){return C("")}function T(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function a(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Qe(e){return Array.from(e.childNodes)}function L(e,n){n=""+n,e.data!==n&&(e.data=n)}function $(e,n,t,o){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,"")}function Ze(e,n,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:n,bubbles:t,cancelable:o})}let ge;function fe(e){ge=e}function Ge(){if(!ge)throw new Error("Function called outside component initialization");return ge}function $e(e){Ge().$$.on_mount.push(e)}function Be(){const e=Ge();return(n,t,{cancelable:o=!1}={})=>{const l=e.$$.callbacks[n];if(l){const s=Ze(n,t,{cancelable:o});return l.slice().forEach(h=>{h.call(e,s)}),!s.defaultPrevented}return!0}}const ae=[],we=[];let de=[];const xe=[],et=Promise.resolve();let Se=!1;function tt(){Se||(Se=!0,et.then(Ke))}function Ce(e){de.push(e)}function nt(e){xe.push(e)}const ve=new Set;let le=0;function Ke(){if(le!==0)return;const e=ge;do{try{for(;le<ae.length;){const n=ae[le];le++,fe(n),ot(n.$$)}}catch(n){throw ae.length=0,le=0,n}for(fe(null),ae.length=0,le=0;we.length;)we.pop()();for(let n=0;n<de.length;n+=1){const t=de[n];ve.has(t)||(ve.add(t),t())}de.length=0}while(ae.length);for(;xe.length;)xe.pop()();Se=!1,ve.clear(),fe(e)}function ot(e){if(e.fragment!==null){e.update(),te(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(Ce)}}function rt(e){const n=[],t=[];de.forEach(o=>e.indexOf(o)===-1?n.push(o):t.push(o)),t.forEach(o=>o()),de=n}const be=new Set;let re;function Ue(){re={r:0,c:[],p:re}}function Ve(){re.r||te(re.c),re=re.p}function ie(e,n){e&&e.i&&(be.delete(e),e.i(n))}function ue(e,n,t,o){if(e&&e.o){if(be.has(e))return;be.add(e),re.c.push(()=>{be.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}function it(e,n,t){const o=e.$$.props[n];o!==void 0&&(e.$$.bound[o]=t,t(e.$$.ctx[o]))}function qe(e){e&&e.c()}function Ee(e,n,t){const{fragment:o,after_update:l}=e.$$;o&&o.m(n,t),Ce(()=>{const s=e.$$.on_mount.map(ze).filter(Re);e.$$.on_destroy?e.$$.on_destroy.push(...s):te(s),e.$$.on_mount=[]}),l.forEach(Ce)}function Me(e,n){const t=e.$$;t.fragment!==null&&(rt(t.after_update),te(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function st(e,n){e.$$.dirty[0]===-1&&(ae.push(e),tt(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Pe(e,n,t,o,l,s,h=null,g=[-1]){const p=ge;fe(e);const d=e.$$={fragment:null,ctx:[],props:s,update:X,not_equal:l,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:Ae(),dirty:g,skip_bound:!1,root:n.target||p.$$.root};h&&h(d.root);let f=!1;if(d.ctx=t?t(e,n.props||{},(i,c,...b)=>{const v=b.length?b[0]:c;return d.ctx&&l(d.ctx[i],d.ctx[i]=v)&&(!d.skip_bound&&d.bound[i]&&d.bound[i](v),f&&st(e,i)),c}):[],d.update(),f=!0,te(d.before_update),d.fragment=o?o(d.ctx):!1,n.target){if(n.hydrate){const i=Qe(n.target);d.fragment&&d.fragment.l(i),i.forEach(O)}else d.fragment&&d.fragment.c();n.intro&&ie(e.$$.fragment),Ee(e,n.target,n.anchor),Ke()}fe(p)}class Ie{constructor(){ye(this,"$$");ye(this,"$$set")}$destroy(){Me(this,1),this.$destroy=X}$on(n,t){if(!Re(t))return X;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(n){this.$$set&&!Je(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lt);function Fe(e){let n,t,o,l,s,h,g,p,d=e[8]?"Word":"Definition",f,i,c,b=(e[8]?e[1].word:e[1].definition)+"",v,k,m,E,P=e[8]?"definition":"word",I,G,W,M,B,F,z,N=e[8]?"Definition":"Word",K,V,j,_=(e[8]?e[1].definition:e[1].word)+"",R,H,ee,y,D,q,J,U,Y;return{c(){n=u("div"),t=u("div"),o=u("div"),l=u("div"),s=u("div"),h=x(),g=u("div"),p=u("div"),f=C(d),i=x(),c=u("div"),v=C(b),k=x(),m=u("div"),E=C("Click to reveal "),I=C(P),G=x(),W=u("div"),M=u("div"),B=x(),F=u("div"),z=u("div"),K=C(N),V=x(),j=u("div"),R=C(_),ee=x(),y=u("div"),D=u("button"),D.textContent="Don't Know",q=x(),J=u("button"),J.textContent="I Know This",a(s,"class","absolute inset-0 rounded-xl transition-all duration-75 ease-out svelte-1cy7msg"),$(s,"background-color",e[7]),$(s,"pointer-events","none"),a(p,"class","text-sm text-gray-500 dark:text-gray-400 mb-2"),a(c,"class","text-2xl md:text-3xl font-semibold text-gray-800 dark:text-white break-words"),a(m,"class","mt-6 text-sm text-gray-500 dark:text-gray-400"),a(g,"class","text-center relative z-10 svelte-1cy7msg"),a(l,"class","flashcard-face flashcard-front bg-white dark:bg-gray-800 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center relative svelte-1cy7msg"),a(M,"class","absolute inset-0 rounded-xl transition-all duration-75 ease-out svelte-1cy7msg"),$(M,"background-color",e[7]),$(M,"pointer-events","none"),a(z,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),a(j,"class","text-2xl md:text-3xl font-semibold text-blue-800 dark:text-blue-200 break-words"),a(F,"class","text-center relative z-10 svelte-1cy7msg"),a(W,"class","flashcard-face flashcard-back bg-blue-50 dark:bg-blue-900 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center relative svelte-1cy7msg"),a(o,"class",H="flashcard-container cursor-pointer transform-style-preserve-3d "+(e[6]?"transition-all duration-200":"")+" "+(e[0]?"rotate-y-180":"")+" svelte-1cy7msg"),$(o,"transform","translateX("+e[2]+"px) "+(e[0]?"rotateY(180deg)":"")),$(o,"opacity",e[5]),a(o,"role","button"),a(o,"tabindex","0"),a(t,"class","relative perspective-1000 mb-8 svelte-1cy7msg"),a(D,"class","bg-red-500 hover:bg-red-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200"),a(J,"class","bg-green-500 hover:bg-green-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200"),a(y,"class","flex gap-6 justify-center mt-6"),a(n,"class","max-w-2xl mx-auto")},m(w,S){A(w,n,S),r(n,t),r(t,o),r(o,l),r(l,s),r(l,h),r(l,g),r(g,p),r(p,f),r(g,i),r(g,c),r(c,v),r(g,k),r(g,m),r(m,E),r(m,I),r(o,G),r(o,W),r(W,M),r(W,B),r(W,F),r(F,z),r(z,K),r(F,V),r(F,j),r(j,R),e[19](o),r(n,ee),r(n,y),r(y,D),r(y,q),r(y,J),U||(Y=[T(o,"click",e[20]),T(o,"keydown",e[21]),T(o,"mousedown",e[12]),T(o,"mousemove",e[13]),T(o,"mouseup",e[14]),T(o,"mouseleave",e[14]),T(o,"touchstart",e[12]),T(o,"touchmove",e[13]),T(o,"touchend",e[14]),T(D,"click",e[11]),T(J,"click",e[10])],U=!0)},p(w,S){S&128&&$(s,"background-color",w[7]),S&256&&d!==(d=w[8]?"Word":"Definition")&&L(f,d),S&258&&b!==(b=(w[8]?w[1].word:w[1].definition)+"")&&L(v,b),S&256&&P!==(P=w[8]?"definition":"word")&&L(I,P),S&128&&$(M,"background-color",w[7]),S&256&&N!==(N=w[8]?"Definition":"Word")&&L(K,N),S&258&&_!==(_=(w[8]?w[1].definition:w[1].word)+"")&&L(R,_),S&65&&H!==(H="flashcard-container cursor-pointer transform-style-preserve-3d "+(w[6]?"transition-all duration-200":"")+" "+(w[0]?"rotate-y-180":"")+" svelte-1cy7msg")&&a(o,"class",H),S&5&&$(o,"transform","translateX("+w[2]+"px) "+(w[0]?"rotateY(180deg)":"")),S&32&&$(o,"opacity",w[5])},d(w){w&&O(n),e[19](null),U=!1,te(Y)}}}function at(e){let n,t=e[1]&&Fe(e);return{c(){t&&t.c(),n=Xe()},m(o,l){t&&t.m(o,l),A(o,n,l)},p(o,[l]){o[1]?t?t.p(o,l):(t=Fe(o),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:X,o:X,d(o){o&&O(n),t&&t.d(o)}}}function dt(e,n,t){let o,l,s,h;const g=Be();let{currentCard:p}=n,{studyMode:d="word-to-definition"}=n,{showDefinition:f=!1}=n,i,c=!1,b=0,v=0,k=0,m=!1,E=1,P=!0,I=!1;function G(){t(0,f=!f)}function W(){g("known")}function M(){g("unknown")}function B(_){m||(t(16,c=!0),I=!1,b=_.type==="mousedown"?_.clientX:_.touches[0].clientX,v=b,t(2,k=0))}function F(_){!c||m||(_.preventDefault(),v=_.type==="mousemove"?_.clientX:_.touches[0].clientX,t(2,k=v-b),Math.abs(k)>5&&(I=!0),t(2,k=Math.max(-200,Math.min(200,k))))}function z(_){if(!c||m)return;t(16,c=!1);const R=80;k>R?(_&&_.preventDefault(),t(3,m=!0),N(()=>W())):k<-R?(_&&_.preventDefault(),t(3,m=!0),N(()=>M())):I?(_&&_.preventDefault(),t(3,m=!0),t(2,k=0),setTimeout(()=>{t(3,m=!1)},200)):t(3,m=!1)}function N(_){t(2,k=k>0?400:-400),setTimeout(()=>{_(),t(6,P=!1),t(5,E=0),t(2,k=0),setTimeout(()=>{t(6,P=!0),t(5,E=1),t(3,m=!1),I=!1},200)},200)}function K(_){we[_?"unshift":"push"](()=>{i=_,t(4,i)})}const V=_=>{m||G()},j=_=>_.key===" "&&G();return e.$$set=_=>{"currentCard"in _&&t(1,p=_.currentCard),"studyMode"in _&&t(15,d=_.studyMode),"showDefinition"in _&&t(0,f=_.showDefinition)},e.$$.update=()=>{e.$$.dirty&10&&p&&!m&&t(0,f=!1),e.$$.dirty&32768&&t(8,o=d==="word-to-definition"),e.$$.dirty&4&&t(17,l=Math.min(Math.abs(k)/150,.3)),e.$$.dirty&4&&t(18,s=k>0?"right":"left"),e.$$.dirty&458756&&t(7,h=c&&Math.abs(k)>20?s==="right"?`rgba(34, 197, 94, ${l})`:`rgba(239, 68, 68, ${l})`:"transparent")},[f,p,k,m,i,E,P,h,o,G,W,M,B,F,z,d,c,l,s,K,V,j]}class ut extends Ie{constructor(n){super(),Pe(this,n,dt,at,De,{currentCard:1,studyMode:15,showDefinition:0})}}function ct(e){let n;return{c(){n=C("📁 Browse Google Drive")},m(t,o){A(t,n,o)},d(t){t&&O(n)}}}function ft(e){let n;return{c(){n=C("Picker Failed to Load")},m(t,o){A(t,n,o)},d(t){t&&O(n)}}}function gt(e){let n;return{c(){n=C("Loading Picker...")},m(t,o){A(t,n,o)},d(t){t&&O(n)}}}function ht(e){let n,t,o,l,s,h,g,p,d,f,i,c;function b(m,E){return m[1]?gt:m[0]?ct:ft}let v=b(e),k=v(e);return{c(){n=u("div"),t=u("div"),o=u("h2"),o.textContent="📊 Select Spreadsheet",l=x(),s=u("p"),s.textContent="Choose a Google Sheets document containing your flashcard data.",h=x(),g=u("p"),g.textContent=`Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns,
      and optionally a "StatsData" sheet for saving progress.`,p=x(),d=u("button"),k.c(),a(o,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),a(s,"class","text-gray-600 dark:text-gray-300 mb-6"),a(g,"class","text-sm text-gray-500 dark:text-gray-400 mb-6"),d.disabled=f=!e[0]||e[1],a(d,"class","bg-green-500 hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(n,"class","text-center")},m(m,E){A(m,n,E),r(n,t),r(t,o),r(t,l),r(t,s),r(t,h),r(t,g),r(t,p),r(t,d),k.m(d,null),i||(c=T(d,"click",e[2]),i=!0)},p(m,[E]){v!==(v=b(m))&&(k.d(1),k=v(m),k&&(k.c(),k.m(d,null))),E&3&&f!==(f=!m[0]||m[1])&&(d.disabled=f)},i:X,o:X,d(m){m&&O(n),k.d(),i=!1,c()}}}function pt(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}function mt(){var e;return(e=window.gapi.client.getToken())==null?void 0:e.access_token}function bt(e,n,t){const o=Be();let l=!1,s=!0;async function h(){try{await pt(),await g()}catch(f){console.error("Failed to initialize picker:",f)}finally{t(1,s=!1)}}function g(){return new Promise((f,i)=>{window.gapi.load("picker",{callback:()=>{t(0,l=!0),f()},onerror:i})})}function p(){if(l&&window.gapi.client.getToken()){const f=mt(),i=new google.picker.View(google.picker.ViewId.SPREADSHEETS);i.setMimeTypes("application/vnd.google-apps.spreadsheet"),new google.picker.PickerBuilder().enableFeature(google.picker.Feature.SUPPORT_DRIVES).setOAuthToken(f).addView(i).setCallback(d).build().setVisible(!0)}}function d(f){if(f.action===google.picker.Action.PICKED){const i=f.docs[0].id,c=f.docs[0].name;o("selected",{id:i,name:c})}}return typeof window<"u"&&h(),[l,s,p]}class wt extends Ie{constructor(n){super(),Pe(this,n,bt,ht,De,{})}}function kt(e){let n,t,o,l,s,h,g=e[6].total>0&&je(e);const p=[Ct,St,xt,vt,yt],d=[];function f(c,b){return c[4]?c[7]?1:c[10]&&!c[9]?2:c[9]?3:4:0}t=f(e),o=d[t]=p[t](e);let i=(!e[10]||e[7])&&Le(e);return{c(){g&&g.c(),n=x(),o.c(),l=x(),i&&i.c(),s=Xe()},m(c,b){g&&g.m(c,b),A(c,n,b),d[t].m(c,b),A(c,l,b),i&&i.m(c,b),A(c,s,b),h=!0},p(c,b){c[6].total>0?g?g.p(c,b):(g=je(c),g.c(),g.m(n.parentNode,n)):g&&(g.d(1),g=null);let v=t;t=f(c),t===v?d[t].p(c,b):(Ue(),ue(d[v],1,1,()=>{d[v]=null}),Ve(),o=d[t],o?o.p(c,b):(o=d[t]=p[t](c),o.c()),ie(o,1),o.m(l.parentNode,l)),!c[10]||c[7]?i?i.p(c,b):(i=Le(c),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},i(c){h||(ie(o),h=!0)},o(c){ue(o),h=!1},d(c){c&&(O(n),O(l),O(s)),g&&g.d(c),d[t].d(c),i&&i.d(c)}}}function _t(e){let n,t,o,l,s,h,g,p,d;return{c(){n=u("div"),t=u("div"),o=u("h2"),o.textContent="Welcome!",l=x(),s=u("p"),s.textContent="Sign in with your Google account to access your flashcard spreadsheets.",h=x(),g=u("button"),g.textContent="Sign in with Google",a(o,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),a(s,"class","text-gray-600 dark:text-gray-300 mb-6"),a(g,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(n,"class","text-center")},m(f,i){A(f,n,i),r(n,t),r(t,o),r(t,l),r(t,s),r(t,h),r(t,g),p||(d=T(g,"click",e[12]),p=!0)},p:X,i:X,o:X,d(f){f&&O(n),p=!1,d()}}}function je(e){let n,t,o,l=e[6].known+"",s,h,g=e[6].unknown+"",p,d,f=e[6].total+"",i,c,b,v,k;return{c(){n=u("div"),t=u("div"),o=u("span"),s=C(l),h=C(" ✅ "),p=C(g),d=C(" ❌ / "),i=C(f),c=x(),b=u("button"),b.textContent="Reset Deck",a(o,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),a(b,"class","ml-4 bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow"),a(n,"class","flex justify-center mb-6")},m(m,E){A(m,n,E),r(n,t),r(t,o),r(o,s),r(o,h),r(o,p),r(o,d),r(o,i),r(t,c),r(t,b),v||(k=T(b,"click",e[15]),v=!0)},p(m,E){E[0]&64&&l!==(l=m[6].known+"")&&L(s,l),E[0]&64&&g!==(g=m[6].unknown+"")&&L(p,g),E[0]&64&&f!==(f=m[6].total+"")&&L(i,f)},d(m){m&&O(n),v=!1,k()}}}function yt(e){let n,t,o,l,s,h,g,p,d,f,i,c=e[3]?`Signed in as ${e[3].name}`:"Signed in",b,v,k,m,E;return{c(){n=u("div"),t=u("div"),o=u("h3"),o.textContent="No flashcards found",l=x(),s=u("p"),s.textContent='Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns.',h=x(),g=u("button"),g.textContent="Choose Different Spreadsheet",p=x(),d=u("div"),f=u("div"),i=u("span"),b=C(c),v=x(),k=u("button"),k.textContent="Sign Out",a(o,"class","text-xl font-semibold mb-4 text-gray-800 dark:text-white"),a(s,"class","text-gray-600 dark:text-gray-300 mb-4"),a(g,"class","bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"),a(i,"class","text-gray-600 dark:text-gray-300 text-sm"),a(k,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(f,"class","flex justify-center items-center gap-4"),a(d,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700"),a(n,"class","text-center")},m(P,I){A(P,n,I),r(n,t),r(t,o),r(t,l),r(t,s),r(t,h),r(t,g),r(n,p),r(n,d),r(d,f),r(f,i),r(i,b),r(f,v),r(f,k),m||(E=[T(g,"click",e[24]),T(k,"click",e[13])],m=!0)},p(P,I){I[0]&8&&c!==(c=P[3]?`Signed in as ${P[3].name}`:"Signed in")&&L(b,c)},i:X,o:X,d(P){P&&O(n),m=!1,te(E)}}}function vt(e){let n,t,o,l,s,h,g=e[0].length+"",p,d,f,i,c,b,v,k,m,E=e[6].total+"",P,I,G,W,M,B,F=e[6].known+"",z,N,K,V,j,_,R=e[6].unknown+"",H,ee,y,D,q,J,U,Y,w,S,oe,he,se,pe,me=e[3]?`Signed in as ${e[3].name}`:"Signed in",ke,Oe,ce,_e,Te,Q=e[6].total>0&&Ne(e);return{c(){n=u("div"),t=u("div"),o=u("h2"),o.textContent="🎉 Deck Complete!",l=x(),s=u("p"),h=C("You've finished all "),p=C(g),d=C(" cards in this deck."),f=x(),i=u("div"),c=u("h3"),c.textContent="Session Stats",b=x(),v=u("div"),k=u("div"),m=u("div"),P=C(E),I=x(),G=u("div"),G.textContent="Total",W=x(),M=u("div"),B=u("div"),z=C(F),N=x(),K=u("div"),K.textContent="Known",V=x(),j=u("div"),_=u("div"),H=C(R),ee=x(),y=u("div"),y.textContent="Unknown",D=x(),Q&&Q.c(),q=x(),J=u("div"),U=u("button"),U.textContent="🔄 Study Again",Y=x(),w=u("div"),S=u("button"),S.textContent="Choose Different Spreadsheet",oe=x(),he=u("div"),se=u("div"),pe=u("span"),ke=C(me),Oe=x(),ce=u("button"),ce.textContent="Sign Out",a(o,"class","text-3xl font-bold mb-4 text-gray-800 dark:text-white"),a(s,"class","text-gray-600 dark:text-gray-300 mb-6"),a(c,"class","text-lg font-semibold mb-4 text-gray-800 dark:text-white"),a(m,"class","text-2xl font-bold text-blue-600 dark:text-blue-400"),a(G,"class","text-sm text-gray-600 dark:text-gray-300"),a(B,"class","text-2xl font-bold text-green-600 dark:text-green-400"),a(K,"class","text-sm text-gray-600 dark:text-gray-300"),a(_,"class","text-2xl font-bold text-red-600 dark:text-red-400"),a(y,"class","text-sm text-gray-600 dark:text-gray-300"),a(v,"class","grid grid-cols-3 gap-4 text-center"),a(i,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-6 mb-6"),a(U,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200"),a(J,"class","flex justify-center"),a(S,"class","text-blue-500 hover:text-blue-600 underline"),a(w,"class","mt-6"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(pe,"class","text-gray-600 dark:text-gray-300 text-sm"),a(ce,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(se,"class","flex justify-center items-center gap-4"),a(he,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700"),a(n,"class","text-center")},m(Z,ne){A(Z,n,ne),r(n,t),r(t,o),r(t,l),r(t,s),r(s,h),r(s,p),r(s,d),r(t,f),r(t,i),r(i,c),r(i,b),r(i,v),r(v,k),r(k,m),r(m,P),r(k,I),r(k,G),r(v,W),r(v,M),r(M,B),r(B,z),r(M,N),r(M,K),r(v,V),r(v,j),r(j,_),r(_,H),r(j,ee),r(j,y),r(i,D),Q&&Q.m(i,null),r(t,q),r(t,J),r(J,U),r(t,Y),r(t,w),r(w,S),r(n,oe),r(n,he),r(he,se),r(se,pe),r(pe,ke),r(se,Oe),r(se,ce),_e||(Te=[T(U,"click",e[20]),T(S,"click",e[23]),T(ce,"click",e[13])],_e=!0)},p(Z,ne){ne[0]&1&&g!==(g=Z[0].length+"")&&L(p,g),ne[0]&64&&E!==(E=Z[6].total+"")&&L(P,E),ne[0]&64&&F!==(F=Z[6].known+"")&&L(z,F),ne[0]&64&&R!==(R=Z[6].unknown+"")&&L(H,R),Z[6].total>0?Q?Q.p(Z,ne):(Q=Ne(Z),Q.c(),Q.m(i,null)):Q&&(Q.d(1),Q=null),ne[0]&8&&me!==(me=Z[3]?`Signed in as ${Z[3].name}`:"Signed in")&&L(ke,me)},i:X,o:X,d(Z){Z&&O(n),Q&&Q.d(),_e=!1,te(Te)}}}function xt(e){let n,t,o,l=e[1]+1+"",s,h,g=e[0].length+"",p,d,f,i,c,b,v,k,m,E,P,I=e[8]==="word-to-definition"?"Word → Definition":"Definition → Word",G,W,M,B,F,z,N,K,V,j,_,R=e[3]?`Signed in as ${e[3].name}`:"Signed in",H,ee,y,D,q,J;function U(w){e[21](w)}let Y={currentCard:e[11],studyMode:e[8]};return e[5]!==void 0&&(Y.showDefinition=e[5]),M=new ut({props:Y}),we.push(()=>it(M,"showDefinition",U)),M.$on("known",e[18]),M.$on("unknown",e[19]),M.$on("next",e[17]),{c(){n=u("div"),t=u("span"),o=C("Card "),s=C(l),h=C(" of "),p=C(g),d=x(),f=u("div"),i=u("span"),i.textContent="Study Mode:",c=x(),b=u("button"),v=u("span"),E=x(),P=u("span"),G=C(I),W=x(),qe(M.$$.fragment),F=x(),z=u("div"),N=u("button"),N.textContent="Choose Different Spreadsheet",K=x(),V=u("div"),j=u("div"),_=u("span"),H=C(R),ee=x(),y=u("button"),y.textContent="Sign Out",a(t,"class","text-gray-600 dark:text-gray-300"),a(i,"class","text-sm text-gray-600 dark:text-gray-300 hidden sm:inline"),a(v,"class",k="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(e[8]==="word-to-definition"?"translate-x-6":"translate-x-1")),a(b,"class",m="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(e[8]==="word-to-definition"?"bg-blue-500":"bg-gray-400")),a(P,"class","text-sm text-gray-600 dark:text-gray-300 min-w-0"),a(f,"class","flex items-center gap-3"),a(n,"class","flex justify-between items-center mb-4"),a(N,"class","text-blue-500 hover:text-blue-600 underline"),a(z,"class","text-center mt-6"),a(_,"class","text-gray-600 dark:text-gray-300 text-sm"),a(y,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(j,"class","flex justify-center items-center gap-4"),a(V,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700")},m(w,S){A(w,n,S),r(n,t),r(t,o),r(t,s),r(t,h),r(t,p),r(n,d),r(n,f),r(f,i),r(f,c),r(f,b),r(b,v),r(f,E),r(f,P),r(P,G),A(w,W,S),Ee(M,w,S),A(w,F,S),A(w,z,S),r(z,N),A(w,K,S),A(w,V,S),r(V,j),r(j,_),r(_,H),r(j,ee),r(j,y),D=!0,q||(J=[T(b,"click",e[16]),T(N,"click",e[22]),T(y,"click",e[13])],q=!0)},p(w,S){(!D||S[0]&2)&&l!==(l=w[1]+1+"")&&L(s,l),(!D||S[0]&1)&&g!==(g=w[0].length+"")&&L(p,g),(!D||S[0]&256&&k!==(k="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(w[8]==="word-to-definition"?"translate-x-6":"translate-x-1")))&&a(v,"class",k),(!D||S[0]&256&&m!==(m="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(w[8]==="word-to-definition"?"bg-blue-500":"bg-gray-400")))&&a(b,"class",m),(!D||S[0]&256)&&I!==(I=w[8]==="word-to-definition"?"Word → Definition":"Definition → Word")&&L(G,I);const oe={};S[0]&2048&&(oe.currentCard=w[11]),S[0]&256&&(oe.studyMode=w[8]),!B&&S[0]&32&&(B=!0,oe.showDefinition=w[5],nt(()=>B=!1)),M.$set(oe),(!D||S[0]&8)&&R!==(R=w[3]?`Signed in as ${w[3].name}`:"Signed in")&&L(H,R)},i(w){D||(ie(M.$$.fragment,w),D=!0)},o(w){ue(M.$$.fragment,w),D=!1},d(w){w&&(O(n),O(W),O(F),O(z),O(K),O(V)),Me(M,w),q=!1,te(J)}}}function St(e){let n;return{c(){n=u("div"),n.innerHTML='<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div> <p class="text-gray-600 dark:text-gray-300">Loading flashcards...</p></div>',a(n,"class","text-center")},m(t,o){A(t,n,o)},p:X,i:X,o:X,d(t){t&&O(n)}}}function Ct(e){let n,t;return n=new wt({}),n.$on("selected",e[14]),{c(){qe(n.$$.fragment)},m(o,l){Ee(n,o,l),t=!0},p:X,i(o){t||(ie(n.$$.fragment,o),t=!0)},o(o){ue(n.$$.fragment,o),t=!1},d(o){Me(n,o)}}}function Ne(e){let n,t,o,l=Math.round(e[6].known/e[6].total*100)+"",s,h,g,p,d;return{c(){n=u("div"),t=u("div"),o=C("Accuracy: "),s=C(l),h=C("%"),g=x(),p=u("div"),d=u("div"),a(t,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),a(d,"class","bg-green-500 h-2 rounded-full transition-all duration-300"),$(d,"width",e[6].known/e[6].total*100+"%"),a(p,"class","w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2"),a(n,"class","mt-4")},m(f,i){A(f,n,i),r(n,t),r(t,o),r(t,s),r(t,h),r(n,g),r(n,p),r(p,d)},p(f,i){i[0]&64&&l!==(l=Math.round(f[6].known/f[6].total*100)+"")&&L(s,l),i[0]&64&&$(d,"width",f[6].known/f[6].total*100+"%")},d(f){f&&O(n)}}}function Le(e){let n,t,o,l=e[3]?`Signed in as ${e[3].name}`:"Signed in",s,h,g,p,d;return{c(){n=u("div"),t=u("div"),o=u("span"),s=C(l),h=x(),g=u("button"),g.textContent="Sign Out",a(o,"class","text-gray-600 dark:text-gray-300 text-sm"),a(g,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(t,"class","flex justify-center items-center gap-4"),a(n,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700")},m(f,i){A(f,n,i),r(n,t),r(t,o),r(o,s),r(t,h),r(t,g),p||(d=T(g,"click",e[13]),p=!0)},p(f,i){i[0]&8&&l!==(l=f[3]?`Signed in as ${f[3].name}`:"Signed in")&&L(s,l)},d(f){f&&O(n),p=!1,d()}}}function Dt(e){let n,t,o,l,s,h,g;const p=[_t,kt],d=[];function f(i,c){return i[2]?1:0}return s=f(e),h=d[s]=p[s](e),{c(){n=u("main"),t=u("div"),o=u("header"),o.innerHTML='<h1 class="text-4xl font-bold text-gray-800 dark:text-white mb-2">mFlashcards</h1>',l=x(),h.c(),a(o,"class","text-center mb-8"),a(t,"class","max-w-4xl mx-auto"),a(n,"class","min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4")},m(i,c){A(i,n,c),r(n,t),r(t,o),r(t,l),d[s].m(t,null),g=!0},p(i,c){let b=s;s=f(i),s===b?d[s].p(i,c):(Ue(),ue(d[b],1,1,()=>{d[b]=null}),Ve(),h=d[s],h?h.p(i,c):(h=d[s]=p[s](i),h.c()),ie(h,1),h.m(t,null))},i(i){g||(ie(h),g=!0)},o(i){ue(h),g=!1},d(i){i&&O(n),d[s].d()}}}const Et="https://sheets.googleapis.com/$discovery/rest?version=v4",Mt="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/userinfo.profile";function Pt(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}async function It(){await new Promise(e=>{window.gapi.load("client",e)}),await window.gapi.client.init({discoveryDocs:[Et]})}function We(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}}function Ot(e,n,t){let o,l,s=!1,h=null,g=null,p=null,d=[],f=0,i=!1,c={total:0,known:0,unknown:0},b=!1,v="word-to-definition",k=!1,m;$e(async()=>{if(typeof window<"u"){await Pt(),await It(),await E();const y=localStorage.getItem("google_access_token"),D=localStorage.getItem("user_profile");if(y){if(h=y,window.gapi.client.setToken({access_token:h}),t(2,s=!0),D)try{t(3,g=JSON.parse(D))}catch(q){console.error("Error parsing saved profile:",q),await I()}else await I();await W()}}});async function E(){m=google.accounts.oauth2.initTokenClient({client_id:"828760418951-ss53asiek3mm9djh818op49fgl4apj3m.apps.googleusercontent.com",scope:Mt,callback:async y=>{y.access_token&&(h=y.access_token,localStorage.setItem("google_access_token",h),window.gapi.client.setToken({access_token:h}),t(2,s=!0),await I(),await W())}})}function P(){m&&m.requestAccessToken()}async function I(){try{const y=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${h}`}});y.ok&&(t(3,g=await y.json()),localStorage.setItem("user_profile",JSON.stringify(g)))}catch(y){console.error("Error fetching user profile:",y)}}function G(){h&&(google.accounts.oauth2.revoke(h),localStorage.removeItem("google_access_token"),localStorage.removeItem("user_profile")),t(2,s=!1),h=null,t(3,g=null),t(4,p=null),t(0,d=[]),F()}async function W(){try{const y=await window.gapi.client.request({path:"https://www.googleapis.com/drive/v3/files",params:{q:"name='mFlashcards' and mimeType='application/vnd.google-apps.spreadsheet' and trashed=false",fields:"files(id, name)"}});if(y.result.files&&y.result.files.length>0){const D=y.result.files[0];console.log("Found existing mFlashcards file:",D),t(4,p=D.id),await B()}else console.log("No existing mFlashcards file found")}catch(y){console.error("Error checking for existing spreadsheet:",y)}}async function M(y){t(4,p=y.detail.id),await B()}async function B(){if(p){t(7,b=!0);try{const q=((await window.gapi.client.sheets.spreadsheets.get({spreadsheetId:p})).result.sheets||[]).map(Y=>Y.properties.title);if(console.log("Available sheets:",q),!q.includes("mFlashcards"))throw new Error(`mFlashcards sheet not found. Available sheets: ${q.join(", ")}`);const U=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:p,range:"mFlashcards!A:B"})).result.values||[];if(console.log("Raw data from sheet:",U),U.length===0)throw new Error("mFlashcards sheet is empty");if(U.length===1)throw new Error("mFlashcards sheet only has headers. Add some flashcard data below the headers.");if(t(0,d=U.slice(1).map(([Y,w])=>({word:Y||"",definition:w||""})).filter(Y=>Y.word&&Y.definition)),d.length===0)throw new Error("No valid flashcard pairs found. Make sure both Word and Definition columns have data.");We(d),F(),console.log("Loaded flashcards:",d)}catch(y){console.error("Error loading spreadsheet data:",y);let D="Error loading spreadsheet data: ";y.status===403?D+="Permission denied. Make sure the spreadsheet is accessible and you have edit permissions.":y.status===404?D+="Spreadsheet not found. Make sure you selected the correct file.":y.message?D+=y.message:D+="Unknown error occurred.",alert(D)}finally{t(7,b=!1)}}}function F(){t(1,f=0),t(5,i=!1),t(6,c={total:0,known:0,unknown:0}),t(9,k=!1)}function z(){t(8,v=v==="word-to-definition"?"definition-to-word":"word-to-definition"),t(5,i=!1)}function N(){t(5,i=!1),t(1,f=f+1),f>=d.length&&t(9,k=!0)}function K(){t(6,c.total++,c),t(6,c.known++,c),N()}function V(){t(6,c.total++,c),t(6,c.unknown++,c),N()}function j(){We(d),F()}function _(y){i=y,t(5,i)}const R=()=>t(4,p=null),H=()=>t(4,p=null),ee=()=>t(4,p=null);return e.$$.update=()=>{e.$$.dirty[0]&3&&t(11,o=d[f]),e.$$.dirty[0]&1&&t(10,l=d.length>0)},[d,f,s,g,p,i,c,b,v,k,l,o,P,G,M,F,z,N,K,V,j,_,R,H,ee]}class Tt extends Ie{constructor(n){super(),Pe(this,n,Ot,Dt,De,{},null,[-1,-1])}}new Tt({target:document.getElementById("app")});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/mFlashcards/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});
//# sourceMappingURL=index-DspT-lLZ.js.map
