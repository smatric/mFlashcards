var Ve=Object.defineProperty;var ze=(e,n,t)=>n in e?Ve(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var fe=(e,n,t)=>ze(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function A(){}function Fe(e){return e()}function De(){return Object.create(null)}function J(e){e.forEach(Fe)}function Le(e){return typeof e=="function"}function be(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function Be(e){return Object.keys(e).length===0}function i(e,n){e.appendChild(n)}function P(e,n,t){e.insertBefore(n,t||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e){return document.createElement(e)}function S(e){return document.createTextNode(e)}function k(){return S(" ")}function Ne(){return S("")}function V(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function d(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function $e(e){return Array.from(e.childNodes)}function R(e,n){n=""+n,e.data!==n&&(e.data=n)}function Ee(e,n,t,o){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,"")}function He(e,n,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:n,bubbles:t,cancelable:o})}let ae;function se(e){ae=e}function je(){if(!ae)throw new Error("Function called outside component initialization");return ae}function qe(e){je().$$.on_mount.push(e)}function We(){const e=je();return(n,t,{cancelable:o=!1}={})=>{const s=e.$$.callbacks[n];if(s){const l=He(n,t,{cancelable:o});return s.slice().forEach(u=>{u.call(e,l)}),!l.defaultPrevented}return!0}}const oe=[],pe=[];let ie=[];const he=[],Ye=Promise.resolve();let me=!1;function Je(){me||(me=!0,Ye.then(Re))}function we(e){ie.push(e)}function Qe(e){he.push(e)}const ge=new Set;let ne=0;function Re(){if(ne!==0)return;const e=ae;do{try{for(;ne<oe.length;){const n=oe[ne];ne++,se(n),Xe(n.$$)}}catch(n){throw oe.length=0,ne=0,n}for(se(null),oe.length=0,ne=0;pe.length;)pe.pop()();for(let n=0;n<ie.length;n+=1){const t=ie[n];ge.has(t)||(ge.add(t),t())}ie.length=0}while(oe.length);for(;he.length;)he.pop()();me=!1,ge.clear(),se(e)}function Xe(e){if(e.fragment!==null){e.update(),J(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(we)}}function Ze(e){const n=[],t=[];ie.forEach(o=>e.indexOf(o)===-1?n.push(o):t.push(o)),t.forEach(o=>o()),ie=n}const ce=new Set;let Z;function Ge(){Z={r:0,c:[],p:Z}}function Ke(){Z.r||J(Z.c),Z=Z.p}function ee(e,n){e&&e.i&&(ce.delete(e),e.i(n))}function le(e,n,t,o){if(e&&e.o){if(ce.has(e))return;ce.add(e),Z.c.push(()=>{ce.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}function et(e,n,t){const o=e.$$.props[n];o!==void 0&&(e.$$.bound[o]=t,t(e.$$.ctx[o]))}function Ue(e){e&&e.c()}function _e(e,n,t){const{fragment:o,after_update:s}=e.$$;o&&o.m(n,t),we(()=>{const l=e.$$.on_mount.map(Fe).filter(Le);e.$$.on_destroy?e.$$.on_destroy.push(...l):J(l),e.$$.on_mount=[]}),s.forEach(we)}function ke(e,n){const t=e.$$;t.fragment!==null&&(Ze(t.after_update),J(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function tt(e,n){e.$$.dirty[0]===-1&&(oe.push(e),Je(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function ve(e,n,t,o,s,l,u=null,f=[-1]){const p=ae;se(e);const g=e.$$={fragment:null,ctx:[],props:l,update:A,not_equal:s,bound:De(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:De(),dirty:f,skip_bound:!1,root:n.target||p.$$.root};u&&u(g.root);let a=!1;if(g.ctx=t?t(e,n.props||{},(r,h,..._)=>{const v=_.length?_[0]:h;return g.ctx&&s(g.ctx[r],g.ctx[r]=v)&&(!g.skip_bound&&g.bound[r]&&g.bound[r](v),a&&tt(e,r)),h}):[],g.update(),a=!0,J(g.before_update),g.fragment=o?o(g.ctx):!1,n.target){if(n.hydrate){const r=$e(n.target);g.fragment&&g.fragment.l(r),r.forEach(E)}else g.fragment&&g.fragment.c();n.intro&&ee(e.$$.fragment),_e(e,n.target,n.anchor),Re()}se(p)}class ye{constructor(){fe(this,"$$");fe(this,"$$set")}$destroy(){ke(this,1),this.$destroy=A}$on(n,t){if(!Le(t))return A;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const s=o.indexOf(t);s!==-1&&o.splice(s,1)}}$set(n){this.$$set&&!Be(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const nt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nt);function Pe(e){let n,t,o,s,l,u,f=e[2]?"Word":"Definition",p,g,a,r=(e[2]?e[1].word:e[1].definition)+"",h,_,v,D,b=e[2]?"definition":"word",x,j,M,O,w,y=e[2]?"Definition":"Word",F,H,W,G=(e[2]?e[1].definition:e[1].word)+"",L,q,Y,K,U,m,C,N,te;return{c(){n=c("div"),t=c("div"),o=c("div"),s=c("div"),l=c("div"),u=c("div"),p=S(f),g=k(),a=c("div"),h=S(r),_=k(),v=c("div"),D=S("Click to reveal "),x=S(b),j=k(),M=c("div"),O=c("div"),w=c("div"),F=S(y),H=k(),W=c("div"),L=S(G),Y=k(),K=c("div"),U=c("button"),U.innerHTML=`<span>‚ùå</span>
        Don&#39;t Know`,m=k(),C=c("button"),C.innerHTML=`<span>‚úÖ</span>
        I Know This`,d(u,"class","text-sm text-gray-500 dark:text-gray-400 mb-2"),d(a,"class","text-2xl md:text-3xl font-semibold text-gray-800 dark:text-white break-words"),d(v,"class","mt-6 text-sm text-gray-500 dark:text-gray-400"),d(l,"class","text-center"),d(s,"class","flashcard-face flashcard-front bg-white dark:bg-gray-800 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center svelte-12xpi0"),d(w,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),d(W,"class","text-2xl md:text-3xl font-semibold text-blue-800 dark:text-blue-200 break-words"),d(O,"class","text-center"),d(M,"class","flashcard-face flashcard-back bg-blue-50 dark:bg-blue-900 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center svelte-12xpi0"),d(o,"class",q="flashcard-container cursor-pointer transform-style-preserve-3d transition-transform duration-300 "+(e[0]?"rotate-y-180":"")+" svelte-12xpi0"),d(o,"role","button"),d(o,"tabindex","0"),d(t,"class","relative perspective-1000 mb-8 svelte-12xpi0"),d(U,"class","bg-red-500 hover:bg-red-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200 flex items-center gap-2"),d(C,"class","bg-green-500 hover:bg-green-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200 flex items-center gap-2"),d(K,"class","flex gap-6 justify-center mt-6"),d(n,"class","max-w-2xl mx-auto")},m(T,I){P(T,n,I),i(n,t),i(t,o),i(o,s),i(s,l),i(l,u),i(u,p),i(l,g),i(l,a),i(a,h),i(l,_),i(l,v),i(v,D),i(v,x),i(o,j),i(o,M),i(M,O),i(O,w),i(w,F),i(O,H),i(O,W),i(W,L),i(n,Y),i(n,K),i(K,U),i(K,m),i(K,C),N||(te=[V(o,"click",e[3]),V(o,"keydown",e[7]),V(U,"click",e[5]),V(C,"click",e[4])],N=!0)},p(T,I){I&4&&f!==(f=T[2]?"Word":"Definition")&&R(p,f),I&6&&r!==(r=(T[2]?T[1].word:T[1].definition)+"")&&R(h,r),I&4&&b!==(b=T[2]?"definition":"word")&&R(x,b),I&4&&y!==(y=T[2]?"Definition":"Word")&&R(F,y),I&6&&G!==(G=(T[2]?T[1].definition:T[1].word)+"")&&R(L,G),I&1&&q!==(q="flashcard-container cursor-pointer transform-style-preserve-3d transition-transform duration-300 "+(T[0]?"rotate-y-180":"")+" svelte-12xpi0")&&d(o,"class",q)},d(T){T&&E(n),N=!1,J(te)}}}function ot(e){let n,t=e[1]&&Pe(e);return{c(){t&&t.c(),n=Ne()},m(o,s){t&&t.m(o,s),P(o,n,s)},p(o,[s]){o[1]?t?t.p(o,s):(t=Pe(o),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:A,o:A,d(o){o&&E(n),t&&t.d(o)}}}function it(e,n,t){let o;const s=We();let{currentCard:l}=n,{studyMode:u="word-to-definition"}=n,{showDefinition:f=!1}=n;function p(){t(0,f=!f)}function g(){s("known")}function a(){s("unknown")}const r=h=>h.key===" "&&p();return e.$$set=h=>{"currentCard"in h&&t(1,l=h.currentCard),"studyMode"in h&&t(6,u=h.studyMode),"showDefinition"in h&&t(0,f=h.showDefinition)},e.$$.update=()=>{e.$$.dirty&64&&t(2,o=u==="word-to-definition")},[f,l,o,p,g,a,u,r]}class lt extends ye{constructor(n){super(),ve(this,n,it,ot,be,{currentCard:1,studyMode:6,showDefinition:0})}}function rt(e){let n;return{c(){n=S("üìÅ Browse Google Drive")},m(t,o){P(t,n,o)},d(t){t&&E(n)}}}function st(e){let n;return{c(){n=S("Picker Failed to Load")},m(t,o){P(t,n,o)},d(t){t&&E(n)}}}function at(e){let n;return{c(){n=S("Loading Picker...")},m(t,o){P(t,n,o)},d(t){t&&E(n)}}}function dt(e){let n,t,o,s,l,u,f,p,g,a,r,h;function _(b,x){return b[1]?at:b[0]?rt:st}let v=_(e),D=v(e);return{c(){n=c("div"),t=c("div"),o=c("h2"),o.textContent="üìä Select Spreadsheet",s=k(),l=c("p"),l.textContent="Choose a Google Sheets document containing your flashcard data.",u=k(),f=c("p"),f.textContent=`Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns,
      and optionally a "StatsData" sheet for saving progress.`,p=k(),g=c("button"),D.c(),d(o,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),d(l,"class","text-gray-600 dark:text-gray-300 mb-6"),d(f,"class","text-sm text-gray-500 dark:text-gray-400 mb-6"),g.disabled=a=!e[0]||e[1],d(g,"class","bg-green-500 hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),d(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),d(n,"class","text-center")},m(b,x){P(b,n,x),i(n,t),i(t,o),i(t,s),i(t,l),i(t,u),i(t,f),i(t,p),i(t,g),D.m(g,null),r||(h=V(g,"click",e[2]),r=!0)},p(b,[x]){v!==(v=_(b))&&(D.d(1),D=v(b),D&&(D.c(),D.m(g,null))),x&3&&a!==(a=!b[0]||b[1])&&(g.disabled=a)},i:A,o:A,d(b){b&&E(n),D.d(),r=!1,h()}}}function ct(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}function ut(){var e;return(e=window.gapi.client.getToken())==null?void 0:e.access_token}function ft(e,n,t){const o=We();let s=!1,l=!0;async function u(){try{await ct(),await f()}catch(a){console.error("Failed to initialize picker:",a)}finally{t(1,l=!1)}}function f(){return new Promise((a,r)=>{window.gapi.load("picker",{callback:()=>{t(0,s=!0),a()},onerror:r})})}function p(){if(s&&window.gapi.client.getToken()){const a=ut(),r=new google.picker.View(google.picker.ViewId.SPREADSHEETS);r.setMimeTypes("application/vnd.google-apps.spreadsheet"),new google.picker.PickerBuilder().enableFeature(google.picker.Feature.SUPPORT_DRIVES).setOAuthToken(a).addView(r).setCallback(g).build().setVisible(!0)}}function g(a){if(a.action===google.picker.Action.PICKED){const r=a.docs[0].id,h=a.docs[0].name;o("selected",{id:r,name:h})}}return typeof window<"u"&&u(),[s,l,p]}class gt extends ye{constructor(n){super(),ve(this,n,ft,dt,be,{})}}function pt(e){let n,t,o,s,l,u,f,p,g,a,r,h,_,v,D,b=e[5].total>0&&Me(e),x=e[5].total>0&&Ie(e);const j=[kt,_t,bt,wt,mt],M=[];function O(w,y){return w[3]?w[6]?1:w[9]&&!w[8]?2:w[8]?3:4:0}return a=O(e),r=M[a]=j[a](e),{c(){n=c("div"),t=c("div"),o=c("span"),o.textContent="Signed in ‚úÖ",s=k(),b&&b.c(),l=k(),u=c("div"),x&&x.c(),f=k(),p=c("button"),p.textContent="Sign Out",g=k(),r.c(),h=Ne(),d(o,"class","text-gray-600 dark:text-gray-300"),d(t,"class","flex items-center gap-4"),d(p,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200"),d(u,"class","flex gap-2"),d(n,"class","flex justify-between items-center mb-6")},m(w,y){P(w,n,y),i(n,t),i(t,o),i(t,s),b&&b.m(t,null),i(n,l),i(n,u),x&&x.m(u,null),i(u,f),i(u,p),P(w,g,y),M[a].m(w,y),P(w,h,y),_=!0,v||(D=V(p,"click",e[12]),v=!0)},p(w,y){w[5].total>0?b?b.p(w,y):(b=Me(w),b.c(),b.m(t,null)):b&&(b.d(1),b=null),w[5].total>0?x?x.p(w,y):(x=Ie(w),x.c(),x.m(u,f)):x&&(x.d(1),x=null);let F=a;a=O(w),a===F?M[a].p(w,y):(Ge(),le(M[F],1,1,()=>{M[F]=null}),Ke(),r=M[a],r?r.p(w,y):(r=M[a]=j[a](w),r.c()),ee(r,1),r.m(h.parentNode,h))},i(w){_||(ee(r),_=!0)},o(w){le(r),_=!1},d(w){w&&(E(n),E(g),E(h)),b&&b.d(),x&&x.d(),M[a].d(w),v=!1,D()}}}function ht(e){let n,t,o,s,l,u,f,p,g;return{c(){n=c("div"),t=c("div"),o=c("h2"),o.textContent="Welcome!",s=k(),l=c("p"),l.textContent="Sign in with your Google account to access your flashcard spreadsheets.",u=k(),f=c("button"),f.textContent="Sign in with Google",d(o,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),d(l,"class","text-gray-600 dark:text-gray-300 mb-6"),d(f,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),d(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),d(n,"class","text-center")},m(a,r){P(a,n,r),i(n,t),i(t,o),i(t,s),i(t,l),i(t,u),i(t,f),p||(g=V(f,"click",e[11]),p=!0)},p:A,i:A,o:A,d(a){a&&E(n),p=!1,g()}}}function Me(e){let n,t,o,s=e[5].known+"",l,u,f=e[5].unknown+"",p,g,a=e[5].total+"",r;return{c(){n=c("div"),t=c("span"),o=S("Session: "),l=S(s),u=S("‚úÖ "),p=S(f),g=S("‚ùå / "),r=S(a),d(t,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),d(n,"class","bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow")},m(h,_){P(h,n,_),i(n,t),i(t,o),i(t,l),i(t,u),i(t,p),i(t,g),i(t,r)},p(h,_){_&32&&s!==(s=h[5].known+"")&&R(l,s),_&32&&f!==(f=h[5].unknown+"")&&R(p,f),_&32&&a!==(a=h[5].total+"")&&R(r,a)},d(h){h&&E(n)}}}function Ie(e){let n,t,o,s,l;return{c(){n=c("button"),n.textContent="Save Stats",t=k(),o=c("button"),o.textContent="Reset Stats",d(n,"class","bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors duration-200"),d(o,"class","bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors duration-200")},m(u,f){P(u,n,f),P(u,t,f),P(u,o,f),s||(l=[V(n,"click",e[20]),V(o,"click",e[14])],s=!0)},p:A,d(u){u&&(E(n),E(t),E(o)),s=!1,J(l)}}}function mt(e){let n,t,o,s,l,u,f,p,g;return{c(){n=c("div"),t=c("div"),o=c("h3"),o.textContent="No flashcards found",s=k(),l=c("p"),l.textContent='Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns.',u=k(),f=c("button"),f.textContent="Choose Different Spreadsheet",d(o,"class","text-xl font-semibold mb-4 text-gray-800 dark:text-white"),d(l,"class","text-gray-600 dark:text-gray-300 mb-4"),d(f,"class","bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200"),d(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"),d(n,"class","text-center")},m(a,r){P(a,n,r),i(n,t),i(t,o),i(t,s),i(t,l),i(t,u),i(t,f),p||(g=V(f,"click",e[24]),p=!0)},p:A,i:A,o:A,d(a){a&&E(n),p=!1,g()}}}function wt(e){let n,t,o,s,l,u,f=e[0].length+"",p,g,a,r,h,_,v,D,b,x=e[5].total+"",j,M,O,w,y,F,H=e[5].known+"",W,G,L,q,Y,K,U=e[5].unknown+"",m,C,N,te,T,I,X,xe,Ce,de,re,ue,Se,z=e[5].total>0&&Te(e),B=e[5].total>0&&Ae(e);return{c(){n=c("div"),t=c("div"),o=c("h2"),o.textContent="üéâ Deck Complete!",s=k(),l=c("p"),u=S("You've finished all "),p=S(f),g=S(" cards in this deck."),a=k(),r=c("div"),h=c("h3"),h.textContent="Session Stats",_=k(),v=c("div"),D=c("div"),b=c("div"),j=S(x),M=k(),O=c("div"),O.textContent="Total",w=k(),y=c("div"),F=c("div"),W=S(H),G=k(),L=c("div"),L.textContent="Known",q=k(),Y=c("div"),K=c("div"),m=S(U),C=k(),N=c("div"),N.textContent="Unknown",te=k(),z&&z.c(),T=k(),I=c("div"),X=c("button"),X.textContent="üîÑ Study Again",xe=k(),B&&B.c(),Ce=k(),de=c("div"),re=c("button"),re.textContent="Choose Different Spreadsheet",d(o,"class","text-3xl font-bold mb-4 text-gray-800 dark:text-white"),d(l,"class","text-gray-600 dark:text-gray-300 mb-6"),d(h,"class","text-lg font-semibold mb-4 text-gray-800 dark:text-white"),d(b,"class","text-2xl font-bold text-blue-600 dark:text-blue-400"),d(O,"class","text-sm text-gray-600 dark:text-gray-300"),d(F,"class","text-2xl font-bold text-green-600 dark:text-green-400"),d(L,"class","text-sm text-gray-600 dark:text-gray-300"),d(K,"class","text-2xl font-bold text-red-600 dark:text-red-400"),d(N,"class","text-sm text-gray-600 dark:text-gray-300"),d(v,"class","grid grid-cols-3 gap-4 text-center"),d(r,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-6 mb-6"),d(X,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200"),d(I,"class","flex gap-4 justify-center"),d(re,"class","text-blue-500 hover:text-blue-600 underline"),d(de,"class","mt-6"),d(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),d(n,"class","text-center")},m($,Q){P($,n,Q),i(n,t),i(t,o),i(t,s),i(t,l),i(l,u),i(l,p),i(l,g),i(t,a),i(t,r),i(r,h),i(r,_),i(r,v),i(v,D),i(D,b),i(b,j),i(D,M),i(D,O),i(v,w),i(v,y),i(y,F),i(F,W),i(y,G),i(y,L),i(v,q),i(v,Y),i(Y,K),i(K,m),i(Y,C),i(Y,N),i(r,te),z&&z.m(r,null),i(t,T),i(t,I),i(I,X),i(I,xe),B&&B.m(I,null),i(t,Ce),i(t,de),i(de,re),ue||(Se=[V(X,"click",e[19]),V(re,"click",e[23])],ue=!0)},p($,Q){Q&1&&f!==(f=$[0].length+"")&&R(p,f),Q&32&&x!==(x=$[5].total+"")&&R(j,x),Q&32&&H!==(H=$[5].known+"")&&R(W,H),Q&32&&U!==(U=$[5].unknown+"")&&R(m,U),$[5].total>0?z?z.p($,Q):(z=Te($),z.c(),z.m(r,null)):z&&(z.d(1),z=null),$[5].total>0?B?B.p($,Q):(B=Ae($),B.c(),B.m(I,null)):B&&(B.d(1),B=null)},i:A,o:A,d($){$&&E(n),z&&z.d(),B&&B.d(),ue=!1,J(Se)}}}function bt(e){let n,t,o,s=e[1]+1+"",l,u,f=e[0].length+"",p,g,a,r,h,_,v,D,b,x,j,M=e[7]==="word-to-definition"?"Word ‚Üí Definition":"Definition ‚Üí Word",O,w,y,F,H,W,G,L,q,Y;function K(m){e[21](m)}let U={currentCard:e[10],studyMode:e[7]};return e[4]!==void 0&&(U.showDefinition=e[4]),y=new lt({props:U}),pe.push(()=>et(y,"showDefinition",K)),y.$on("known",e[17]),y.$on("unknown",e[18]),y.$on("next",e[16]),{c(){n=c("div"),t=c("span"),o=S("Card "),l=S(s),u=S(" of "),p=S(f),g=k(),a=c("div"),r=c("span"),r.textContent="Study Mode:",h=k(),_=c("button"),v=c("span"),x=k(),j=c("span"),O=S(M),w=k(),Ue(y.$$.fragment),H=k(),W=c("div"),G=c("button"),G.textContent="Choose Different Spreadsheet",d(t,"class","text-gray-600 dark:text-gray-300"),d(r,"class","text-sm text-gray-600 dark:text-gray-300"),d(v,"class",D="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(e[7]==="word-to-definition"?"translate-x-6":"translate-x-1")),d(_,"class",b="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(e[7]==="word-to-definition"?"bg-blue-500":"bg-gray-400")),d(j,"class","text-sm text-gray-600 dark:text-gray-300 min-w-0"),d(a,"class","flex items-center gap-3"),d(n,"class","flex justify-between items-center mb-4"),d(G,"class","text-blue-500 hover:text-blue-600 underline"),d(W,"class","text-center mt-6")},m(m,C){P(m,n,C),i(n,t),i(t,o),i(t,l),i(t,u),i(t,p),i(n,g),i(n,a),i(a,r),i(a,h),i(a,_),i(_,v),i(a,x),i(a,j),i(j,O),P(m,w,C),_e(y,m,C),P(m,H,C),P(m,W,C),i(W,G),L=!0,q||(Y=[V(_,"click",e[15]),V(G,"click",e[22])],q=!0)},p(m,C){(!L||C&2)&&s!==(s=m[1]+1+"")&&R(l,s),(!L||C&1)&&f!==(f=m[0].length+"")&&R(p,f),(!L||C&128&&D!==(D="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(m[7]==="word-to-definition"?"translate-x-6":"translate-x-1")))&&d(v,"class",D),(!L||C&128&&b!==(b="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(m[7]==="word-to-definition"?"bg-blue-500":"bg-gray-400")))&&d(_,"class",b),(!L||C&128)&&M!==(M=m[7]==="word-to-definition"?"Word ‚Üí Definition":"Definition ‚Üí Word")&&R(O,M);const N={};C&1024&&(N.currentCard=m[10]),C&128&&(N.studyMode=m[7]),!F&&C&16&&(F=!0,N.showDefinition=m[4],Qe(()=>F=!1)),y.$set(N)},i(m){L||(ee(y.$$.fragment,m),L=!0)},o(m){le(y.$$.fragment,m),L=!1},d(m){m&&(E(n),E(w),E(H),E(W)),ke(y,m),q=!1,J(Y)}}}function _t(e){let n;return{c(){n=c("div"),n.innerHTML='<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div> <p class="text-gray-600 dark:text-gray-300">Loading flashcards...</p></div>',d(n,"class","text-center")},m(t,o){P(t,n,o)},p:A,i:A,o:A,d(t){t&&E(n)}}}function kt(e){let n,t;return n=new gt({}),n.$on("selected",e[13]),{c(){Ue(n.$$.fragment)},m(o,s){_e(n,o,s),t=!0},p:A,i(o){t||(ee(n.$$.fragment,o),t=!0)},o(o){le(n.$$.fragment,o),t=!1},d(o){ke(n,o)}}}function Te(e){let n,t,o,s=Math.round(e[5].known/e[5].total*100)+"",l,u,f,p,g;return{c(){n=c("div"),t=c("div"),o=S("Accuracy: "),l=S(s),u=S("%"),f=k(),p=c("div"),g=c("div"),d(t,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),d(g,"class","bg-green-500 h-2 rounded-full transition-all duration-300"),Ee(g,"width",e[5].known/e[5].total*100+"%"),d(p,"class","w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2"),d(n,"class","mt-4")},m(a,r){P(a,n,r),i(n,t),i(t,o),i(t,l),i(t,u),i(n,f),i(n,p),i(p,g)},p(a,r){r&32&&s!==(s=Math.round(a[5].known/a[5].total*100)+"")&&R(l,s),r&32&&Ee(g,"width",a[5].known/a[5].total*100+"%")},d(a){a&&E(n)}}}function Ae(e){let n,t,o;return{c(){n=c("button"),n.textContent="üíæ Save Stats",d(n,"class","bg-green-500 hover:bg-green-600 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200")},m(s,l){P(s,n,l),t||(o=V(n,"click",e[20]),t=!0)},p:A,d(s){s&&E(n),t=!1,o()}}}function vt(e){let n,t,o,s,l,u,f;const p=[ht,pt],g=[];function a(r,h){return r[2]?1:0}return l=a(e),u=g[l]=p[l](e),{c(){n=c("main"),t=c("div"),o=c("header"),o.innerHTML='<h1 class="text-4xl font-bold text-gray-800 dark:text-white mb-2">mFlashcards</h1>',s=k(),u.c(),d(o,"class","text-center mb-8"),d(t,"class","max-w-4xl mx-auto"),d(n,"class","min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4")},m(r,h){P(r,n,h),i(n,t),i(t,o),i(t,s),g[l].m(t,null),f=!0},p(r,[h]){let _=l;l=a(r),l===_?g[l].p(r,h):(Ge(),le(g[_],1,1,()=>{g[_]=null}),Ke(),u=g[l],u?u.p(r,h):(u=g[l]=p[l](r),u.c()),ee(u,1),u.m(t,null))},i(r){f||(ee(u),f=!0)},o(r){le(u),f=!1},d(r){r&&E(n),g[l].d()}}}const yt="https://sheets.googleapis.com/$discovery/rest?version=v4",xt="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/spreadsheets";function Ct(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}async function St(){await new Promise(e=>{window.gapi.load("client",e)}),await window.gapi.client.init({discoveryDocs:[yt]})}function Oe(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}}function Dt(e,n,t){let o,s,l=!1,u=null,f=null,p=[],g=0,a=!1,r={total:0,known:0,unknown:0},h=!1,_="word-to-definition",v=!1,D;qe(async()=>{if(typeof window<"u"){await Ct(),await St(),await b();const m=localStorage.getItem("google_access_token");m&&(u=m,window.gapi.client.setToken({access_token:u}),t(2,l=!0))}});async function b(){D=google.accounts.oauth2.initTokenClient({client_id:"828760418951-ss53asiek3mm9djh818op49fgl4apj3m.apps.googleusercontent.com",scope:xt,callback:m=>{m.access_token&&(u=m.access_token,localStorage.setItem("google_access_token",u),window.gapi.client.setToken({access_token:u}),t(2,l=!0))}})}function x(){D&&D.requestAccessToken()}function j(){u&&(google.accounts.oauth2.revoke(u),localStorage.removeItem("google_access_token")),t(2,l=!1),u=null,t(3,f=null),t(0,p=[]),w()}async function M(m){t(3,f=m.detail.id),await O()}async function O(){if(f){t(6,h=!0);try{const N=((await window.gapi.client.sheets.spreadsheets.get({spreadsheetId:f})).result.sheets||[]).map(I=>I.properties.title);if(console.log("Available sheets:",N),!N.includes("mFlashcards"))throw new Error(`mFlashcards sheet not found. Available sheets: ${N.join(", ")}`);const T=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:f,range:"mFlashcards!A:B"})).result.values||[];if(console.log("Raw data from sheet:",T),T.length===0)throw new Error("mFlashcards sheet is empty");if(T.length===1)throw new Error("mFlashcards sheet only has headers. Add some flashcard data below the headers.");if(t(0,p=T.slice(1).map(([I,X])=>({word:I||"",definition:X||""})).filter(I=>I.word&&I.definition)),p.length===0)throw new Error("No valid flashcard pairs found. Make sure both Word and Definition columns have data.");Oe(p),w(),console.log("Loaded flashcards:",p)}catch(m){console.error("Error loading spreadsheet data:",m);let C="Error loading spreadsheet data: ";m.status===403?C+="Permission denied. Make sure the spreadsheet is accessible and you have edit permissions.":m.status===404?C+="Spreadsheet not found. Make sure you selected the correct file.":m.message?C+=m.message:C+="Unknown error occurred.",alert(C)}finally{t(6,h=!1)}}}function w(){t(1,g=0),t(4,a=!1),t(5,r={total:0,known:0,unknown:0}),t(8,v=!1)}function y(){t(7,_=_==="word-to-definition"?"definition-to-word":"word-to-definition"),t(4,a=!1)}function F(){t(4,a=!1),t(1,g=g+1),g>=p.length&&t(8,v=!0)}function H(){t(5,r.total++,r),t(5,r.known++,r),F()}function W(){t(5,r.total++,r),t(5,r.unknown++,r),F()}function G(){Oe(p),w()}async function L(){if(!(!f||r.total===0))try{const C=[[new Date().toISOString().split("T")[0],r.total,r.known,r.unknown]];await window.gapi.client.sheets.spreadsheets.values.append({spreadsheetId:f,range:"StatsData!A:D",valueInputOption:"USER_ENTERED",resource:{values:C}}),alert("Stats saved successfully!"),w()}catch(m){console.error("Error saving stats:",m),alert('Error saving stats. Make sure you have a "StatsData" sheet with Date, Total, Known, Unknown columns.')}}function q(m){a=m,t(4,a)}const Y=()=>t(3,f=null),K=()=>t(3,f=null),U=()=>t(3,f=null);return e.$$.update=()=>{e.$$.dirty&3&&t(10,o=p[g]),e.$$.dirty&1&&t(9,s=p.length>0)},[p,g,l,f,a,r,h,_,v,s,o,x,j,M,w,y,F,H,W,G,L,q,Y,K,U]}class Et extends ye{constructor(n){super(),ve(this,n,Dt,vt,be,{})}}new Et({target:document.getElementById("app")});
//# sourceMappingURL=index-Bkt46xph.js.map
