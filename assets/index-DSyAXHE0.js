var qe=Object.defineProperty;var He=(e,n,t)=>n in e?qe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var ve=(e,n,t)=>He(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function t(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=t(l);fetch(l.href,s)}})();function z(){}function Ge(e){return e()}function Te(){return Object.create(null)}function te(e){e.forEach(Ge)}function Re(e){return typeof e=="function"}function De(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function Je(e){return Object.keys(e).length===0}function r(e,n){e.appendChild(n)}function T(e,n,t){e.insertBefore(n,t||null)}function j(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function x(){return C(" ")}function ze(){return C("")}function A(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function a(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Qe(e){return Array.from(e.childNodes)}function L(e,n){n=""+n,e.data!==n&&(e.data=n)}function $(e,n,t,o){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,"")}function Ze(e,n,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:n,bubbles:t,cancelable:o})}let ge;function fe(e){ge=e}function Xe(){if(!ge)throw new Error("Function called outside component initialization");return ge}function $e(e){Xe().$$.on_mount.push(e)}function Be(){const e=Xe();return(n,t,{cancelable:o=!1}={})=>{const l=e.$$.callbacks[n];if(l){const s=Ze(n,t,{cancelable:o});return l.slice().forEach(p=>{p.call(e,s)}),!s.defaultPrevented}return!0}}const ae=[],we=[];let de=[];const xe=[],et=Promise.resolve();let Se=!1;function tt(){Se||(Se=!0,et.then(Ke))}function Ce(e){de.push(e)}function nt(e){xe.push(e)}const ye=new Set;let le=0;function Ke(){if(le!==0)return;const e=ge;do{try{for(;le<ae.length;){const n=ae[le];le++,fe(n),ot(n.$$)}}catch(n){throw ae.length=0,le=0,n}for(fe(null),ae.length=0,le=0;we.length;)we.pop()();for(let n=0;n<de.length;n+=1){const t=de[n];ye.has(t)||(ye.add(t),t())}de.length=0}while(ae.length);for(;xe.length;)xe.pop()();Se=!1,ye.clear(),fe(e)}function ot(e){if(e.fragment!==null){e.update(),te(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(Ce)}}function rt(e){const n=[],t=[];de.forEach(o=>e.indexOf(o)===-1?n.push(o):t.push(o)),t.forEach(o=>o()),de=n}const be=new Set;let re;function Ue(){re={r:0,c:[],p:re}}function Ve(){re.r||te(re.c),re=re.p}function ie(e,n){e&&e.i&&(be.delete(e),e.i(n))}function ce(e,n,t,o){if(e&&e.o){if(be.has(e))return;be.add(e),re.c.push(()=>{be.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}function it(e,n,t){const o=e.$$.props[n];o!==void 0&&(e.$$.bound[o]=t,t(e.$$.ctx[o]))}function Ye(e){e&&e.c()}function Pe(e,n,t){const{fragment:o,after_update:l}=e.$$;o&&o.m(n,t),Ce(()=>{const s=e.$$.on_mount.map(Ge).filter(Re);e.$$.on_destroy?e.$$.on_destroy.push(...s):te(s),e.$$.on_mount=[]}),l.forEach(Ce)}function Ee(e,n){const t=e.$$;t.fragment!==null&&(rt(t.after_update),te(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function st(e,n){e.$$.dirty[0]===-1&&(ae.push(e),tt(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Me(e,n,t,o,l,s,p=null,g=[-1]){const h=ge;fe(e);const d=e.$$={fragment:null,ctx:[],props:s,update:z,not_equal:l,bound:Te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:Te(),dirty:g,skip_bound:!1,root:n.target||h.$$.root};p&&p(d.root);let f=!1;if(d.ctx=t?t(e,n.props||{},(i,u,...b)=>{const y=b.length?b[0]:u;return d.ctx&&l(d.ctx[i],d.ctx[i]=y)&&(!d.skip_bound&&d.bound[i]&&d.bound[i](y),f&&st(e,i)),u}):[],d.update(),f=!0,te(d.before_update),d.fragment=o?o(d.ctx):!1,n.target){if(n.hydrate){const i=Qe(n.target);d.fragment&&d.fragment.l(i),i.forEach(j)}else d.fragment&&d.fragment.c();n.intro&&ie(e.$$.fragment),Pe(e,n.target,n.anchor),Ke()}fe(h)}class Ie{constructor(){ve(this,"$$");ve(this,"$$set")}$destroy(){Ee(this,1),this.$destroy=z}$on(n,t){if(!Re(t))return z;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(n){this.$$set&&!Je(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lt);function Oe(e){let n,t,o,l,s,p,g,h,d=e[8]?"Word":"Definition",f,i,u,b=(e[8]?e[1].word:e[1].definition)+"",y,k,m,P,M=e[8]?"definition":"word",I,X,W,E,B,O,G,N=e[8]?"Definition":"Word",K,V,F,v=(e[8]?e[1].definition:e[1].word)+"",R,H,ee,_,D,Y,J,U,q;return{c(){n=c("div"),t=c("div"),o=c("div"),l=c("div"),s=c("div"),p=x(),g=c("div"),h=c("div"),f=C(d),i=x(),u=c("div"),y=C(b),k=x(),m=c("div"),P=C("Click to reveal "),I=C(M),X=x(),W=c("div"),E=c("div"),B=x(),O=c("div"),G=c("div"),K=C(N),V=x(),F=c("div"),R=C(v),ee=x(),_=c("div"),D=c("button"),D.textContent="Don't Know",Y=x(),J=c("button"),J.textContent="I Know This",a(s,"class","absolute inset-0 rounded-xl transition-all duration-75 ease-out svelte-alf5mj"),$(s,"background-color",e[7]),$(s,"pointer-events","none"),a(h,"class","text-sm text-gray-500 dark:text-gray-400 mb-2"),a(u,"class","text-2xl md:text-3xl font-semibold text-gray-800 dark:text-white break-words"),a(m,"class","mt-6 text-sm text-gray-500 dark:text-gray-400"),a(g,"class","text-center relative z-10 svelte-alf5mj"),a(l,"class","flashcard-face flashcard-front bg-white dark:bg-gray-800 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center relative svelte-alf5mj"),a(E,"class","absolute inset-0 rounded-xl transition-all duration-75 ease-out svelte-alf5mj"),$(E,"background-color",e[7]),$(E,"pointer-events","none"),a(G,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),a(F,"class","text-2xl md:text-3xl font-semibold text-blue-800 dark:text-blue-200 break-words"),a(O,"class","text-center relative z-10 svelte-alf5mj"),a(W,"class","flashcard-face flashcard-back bg-blue-50 dark:bg-blue-900 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center relative svelte-alf5mj"),a(o,"class",H="flashcard-container cursor-pointer transform-style-preserve-3d "+(e[6]?"transition-all duration-200":"")+" "+(e[0]?"rotate-y-180":"")+" svelte-alf5mj"),$(o,"transform","translateX("+e[2]+"px) "+(e[0]?"rotateY(180deg)":"")),$(o,"opacity",e[5]),a(o,"role","button"),a(o,"tabindex","0"),a(t,"class","relative perspective-1000 mb-8 svelte-alf5mj"),a(D,"class","bg-red-500 hover:bg-red-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200"),a(J,"class","bg-green-500 hover:bg-green-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200"),a(_,"class","flex gap-6 justify-center mt-6"),a(n,"class","max-w-2xl mx-auto")},m(w,S){T(w,n,S),r(n,t),r(t,o),r(o,l),r(l,s),r(l,p),r(l,g),r(g,h),r(h,f),r(g,i),r(g,u),r(u,y),r(g,k),r(g,m),r(m,P),r(m,I),r(o,X),r(o,W),r(W,E),r(W,B),r(W,O),r(O,G),r(G,K),r(O,V),r(O,F),r(F,R),e[19](o),r(n,ee),r(n,_),r(_,D),r(_,Y),r(_,J),U||(q=[A(o,"click",e[20]),A(o,"keydown",e[21]),A(o,"mousedown",e[12]),A(o,"mousemove",e[13]),A(o,"mouseup",e[14]),A(o,"mouseleave",e[14]),A(o,"touchstart",e[12]),A(o,"touchmove",e[13]),A(o,"touchend",e[14]),A(D,"click",e[11]),A(J,"click",e[10])],U=!0)},p(w,S){S&128&&$(s,"background-color",w[7]),S&256&&d!==(d=w[8]?"Word":"Definition")&&L(f,d),S&258&&b!==(b=(w[8]?w[1].word:w[1].definition)+"")&&L(y,b),S&256&&M!==(M=w[8]?"definition":"word")&&L(I,M),S&128&&$(E,"background-color",w[7]),S&256&&N!==(N=w[8]?"Definition":"Word")&&L(K,N),S&258&&v!==(v=(w[8]?w[1].definition:w[1].word)+"")&&L(R,v),S&65&&H!==(H="flashcard-container cursor-pointer transform-style-preserve-3d "+(w[6]?"transition-all duration-200":"")+" "+(w[0]?"rotate-y-180":"")+" svelte-alf5mj")&&a(o,"class",H),S&5&&$(o,"transform","translateX("+w[2]+"px) "+(w[0]?"rotateY(180deg)":"")),S&32&&$(o,"opacity",w[5])},d(w){w&&j(n),e[19](null),U=!1,te(q)}}}function at(e){let n,t=e[1]&&Oe(e);return{c(){t&&t.c(),n=ze()},m(o,l){t&&t.m(o,l),T(o,n,l)},p(o,[l]){o[1]?t?t.p(o,l):(t=Oe(o),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:z,o:z,d(o){o&&j(n),t&&t.d(o)}}}function dt(e,n,t){let o,l,s,p;const g=Be();let{currentCard:h}=n,{studyMode:d="word-to-definition"}=n,{showDefinition:f=!1}=n,i,u=!1,b=0,y=0,k=0,m=!1,P=1,M=!0,I=!1;function X(){t(0,f=!f)}function W(){g("known")}function E(){g("unknown")}function B(v){m||(t(16,u=!0),I=!1,b=v.type==="mousedown"?v.clientX:v.touches[0].clientX,y=b,t(2,k=0))}function O(v){!u||m||(v.preventDefault(),y=v.type==="mousemove"?v.clientX:v.touches[0].clientX,t(2,k=y-b),Math.abs(k)>5&&(I=!0),t(2,k=Math.max(-200,Math.min(200,k))))}function G(v){if(!u||m)return;t(16,u=!1);const R=80;k>R?(v&&v.preventDefault(),t(3,m=!0),N(()=>W())):k<-R?(v&&v.preventDefault(),t(3,m=!0),N(()=>E())):I?(v&&v.preventDefault(),t(3,m=!0),t(2,k=0),setTimeout(()=>{t(3,m=!1)},200)):t(3,m=!1)}function N(v){t(2,k=k>0?400:-400),setTimeout(()=>{v(),t(6,M=!1),t(5,P=0),t(2,k=0),setTimeout(()=>{t(6,M=!0),t(5,P=1),t(3,m=!1),I=!1},200)},200)}function K(v){we[v?"unshift":"push"](()=>{i=v,t(4,i)})}const V=v=>{m||X()},F=v=>v.key===" "&&X();return e.$$set=v=>{"currentCard"in v&&t(1,h=v.currentCard),"studyMode"in v&&t(15,d=v.studyMode),"showDefinition"in v&&t(0,f=v.showDefinition)},e.$$.update=()=>{e.$$.dirty&10&&h&&!m&&t(0,f=!1),e.$$.dirty&32768&&t(8,o=d==="word-to-definition"),e.$$.dirty&4&&t(17,l=Math.min(Math.abs(k)/150,.3)),e.$$.dirty&4&&t(18,s=k>0?"right":"left"),e.$$.dirty&458756&&t(7,p=u&&Math.abs(k)>20?s==="right"?`rgba(34, 197, 94, ${l})`:`rgba(239, 68, 68, ${l})`:"transparent")},[f,h,k,m,i,P,M,p,o,X,W,E,B,O,G,d,u,l,s,K,V,F]}class ct extends Ie{constructor(n){super(),Me(this,n,dt,at,De,{currentCard:1,studyMode:15,showDefinition:0})}}function ut(e){let n;return{c(){n=C("ðŸ“ Browse Google Drive")},m(t,o){T(t,n,o)},d(t){t&&j(n)}}}function ft(e){let n;return{c(){n=C("Picker Failed to Load")},m(t,o){T(t,n,o)},d(t){t&&j(n)}}}function gt(e){let n;return{c(){n=C("Loading Picker...")},m(t,o){T(t,n,o)},d(t){t&&j(n)}}}function pt(e){let n,t,o,l,s,p,g,h,d,f,i,u;function b(m,P){return m[1]?gt:m[0]?ut:ft}let y=b(e),k=y(e);return{c(){n=c("div"),t=c("div"),o=c("h2"),o.textContent="ðŸ“Š Select Spreadsheet",l=x(),s=c("p"),s.textContent="Choose a Google Sheets document containing your flashcard data.",p=x(),g=c("p"),g.textContent=`Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns,
      and optionally a "StatsData" sheet for saving progress.`,h=x(),d=c("button"),k.c(),a(o,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),a(s,"class","text-gray-600 dark:text-gray-300 mb-6"),a(g,"class","text-sm text-gray-500 dark:text-gray-400 mb-6"),d.disabled=f=!e[0]||e[1],a(d,"class","bg-green-500 hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(n,"class","text-center")},m(m,P){T(m,n,P),r(n,t),r(t,o),r(t,l),r(t,s),r(t,p),r(t,g),r(t,h),r(t,d),k.m(d,null),i||(u=A(d,"click",e[2]),i=!0)},p(m,[P]){y!==(y=b(m))&&(k.d(1),k=y(m),k&&(k.c(),k.m(d,null))),P&3&&f!==(f=!m[0]||m[1])&&(d.disabled=f)},i:z,o:z,d(m){m&&j(n),k.d(),i=!1,u()}}}function ht(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}function mt(){var e;return(e=window.gapi.client.getToken())==null?void 0:e.access_token}function bt(e,n,t){const o=Be();let l=!1,s=!0;async function p(){try{await ht(),await g()}catch(f){console.error("Failed to initialize picker:",f)}finally{t(1,s=!1)}}function g(){return new Promise((f,i)=>{window.gapi.load("picker",{callback:()=>{t(0,l=!0),f()},onerror:i})})}function h(){if(l&&window.gapi.client.getToken()){const f=mt(),i=new google.picker.View(google.picker.ViewId.SPREADSHEETS);i.setMimeTypes("application/vnd.google-apps.spreadsheet"),new google.picker.PickerBuilder().enableFeature(google.picker.Feature.SUPPORT_DRIVES).setOAuthToken(f).addView(i).setCallback(d).build().setVisible(!0)}}function d(f){if(f.action===google.picker.Action.PICKED){const i=f.docs[0].id,u=f.docs[0].name;o("selected",{id:i,name:u})}}return typeof window<"u"&&p(),[l,s,h]}class wt extends Ie{constructor(n){super(),Me(this,n,bt,pt,De,{})}}function kt(e){let n,t,o,l,s,p,g=e[6].total>0&&Fe(e);const h=[Ct,St,xt,yt,vt],d=[];function f(u,b){return u[4]?u[7]?1:u[10]&&!u[9]?2:u[9]?3:4:0}t=f(e),o=d[t]=h[t](e);let i=(!e[10]||e[7])&&Le(e);return{c(){g&&g.c(),n=x(),o.c(),l=x(),i&&i.c(),s=ze()},m(u,b){g&&g.m(u,b),T(u,n,b),d[t].m(u,b),T(u,l,b),i&&i.m(u,b),T(u,s,b),p=!0},p(u,b){u[6].total>0?g?g.p(u,b):(g=Fe(u),g.c(),g.m(n.parentNode,n)):g&&(g.d(1),g=null);let y=t;t=f(u),t===y?d[t].p(u,b):(Ue(),ce(d[y],1,1,()=>{d[y]=null}),Ve(),o=d[t],o?o.p(u,b):(o=d[t]=h[t](u),o.c()),ie(o,1),o.m(l.parentNode,l)),!u[10]||u[7]?i?i.p(u,b):(i=Le(u),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},i(u){p||(ie(o),p=!0)},o(u){ce(o),p=!1},d(u){u&&(j(n),j(l),j(s)),g&&g.d(u),d[t].d(u),i&&i.d(u)}}}function _t(e){let n,t,o,l,s,p,g,h,d;return{c(){n=c("div"),t=c("div"),o=c("h2"),o.textContent="Welcome!",l=x(),s=c("p"),s.textContent="Sign in with your Google account to access your flashcard spreadsheets.",p=x(),g=c("button"),g.textContent="Sign in with Google",a(o,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),a(s,"class","text-gray-600 dark:text-gray-300 mb-6"),a(g,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(n,"class","text-center")},m(f,i){T(f,n,i),r(n,t),r(t,o),r(t,l),r(t,s),r(t,p),r(t,g),h||(d=A(g,"click",e[12]),h=!0)},p:z,i:z,o:z,d(f){f&&j(n),h=!1,d()}}}function Fe(e){let n,t,o,l=e[6].known+"",s,p,g=e[6].unknown+"",h,d,f=e[6].total+"",i,u,b,y,k;return{c(){n=c("div"),t=c("div"),o=c("span"),s=C(l),p=C(" âœ… "),h=C(g),d=C(" âŒ / "),i=C(f),u=x(),b=c("button"),b.textContent="Reset Deck",a(o,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),a(b,"class","ml-4 bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow"),a(n,"class","flex justify-center mb-6")},m(m,P){T(m,n,P),r(n,t),r(t,o),r(o,s),r(o,p),r(o,h),r(o,d),r(o,i),r(t,u),r(t,b),y||(k=A(b,"click",e[15]),y=!0)},p(m,P){P[0]&64&&l!==(l=m[6].known+"")&&L(s,l),P[0]&64&&g!==(g=m[6].unknown+"")&&L(h,g),P[0]&64&&f!==(f=m[6].total+"")&&L(i,f)},d(m){m&&j(n),y=!1,k()}}}function vt(e){let n,t,o,l,s,p,g,h,d,f,i,u=e[3]?`Signed in as ${e[3].name}`:"Signed in",b,y,k,m,P;return{c(){n=c("div"),t=c("div"),o=c("h3"),o.textContent="No flashcards found",l=x(),s=c("p"),s.textContent='Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns.',p=x(),g=c("button"),g.textContent="Choose Different Spreadsheet",h=x(),d=c("div"),f=c("div"),i=c("span"),b=C(u),y=x(),k=c("button"),k.textContent="Sign Out",a(o,"class","text-xl font-semibold mb-4 text-gray-800 dark:text-white"),a(s,"class","text-gray-600 dark:text-gray-300 mb-4"),a(g,"class","bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"),a(i,"class","text-gray-600 dark:text-gray-300 text-sm"),a(k,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(f,"class","flex justify-center items-center gap-4"),a(d,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700"),a(n,"class","text-center")},m(M,I){T(M,n,I),r(n,t),r(t,o),r(t,l),r(t,s),r(t,p),r(t,g),r(n,h),r(n,d),r(d,f),r(f,i),r(i,b),r(f,y),r(f,k),m||(P=[A(g,"click",e[24]),A(k,"click",e[13])],m=!0)},p(M,I){I[0]&8&&u!==(u=M[3]?`Signed in as ${M[3].name}`:"Signed in")&&L(b,u)},i:z,o:z,d(M){M&&j(n),m=!1,te(P)}}}function yt(e){let n,t,o,l,s,p,g=e[0].length+"",h,d,f,i,u,b,y,k,m,P=e[6].total+"",M,I,X,W,E,B,O=e[6].known+"",G,N,K,V,F,v,R=e[6].unknown+"",H,ee,_,D,Y,J,U,q,w,S,oe,pe,se,he,me=e[3]?`Signed in as ${e[3].name}`:"Signed in",ke,je,ue,_e,Ae,Q=e[6].total>0&&Ne(e);return{c(){n=c("div"),t=c("div"),o=c("h2"),o.textContent="ðŸŽ‰ Deck Complete!",l=x(),s=c("p"),p=C("You've finished all "),h=C(g),d=C(" cards in this deck."),f=x(),i=c("div"),u=c("h3"),u.textContent="Session Stats",b=x(),y=c("div"),k=c("div"),m=c("div"),M=C(P),I=x(),X=c("div"),X.textContent="Total",W=x(),E=c("div"),B=c("div"),G=C(O),N=x(),K=c("div"),K.textContent="Known",V=x(),F=c("div"),v=c("div"),H=C(R),ee=x(),_=c("div"),_.textContent="Unknown",D=x(),Q&&Q.c(),Y=x(),J=c("div"),U=c("button"),U.textContent="ðŸ”„ Study Again",q=x(),w=c("div"),S=c("button"),S.textContent="Choose Different Spreadsheet",oe=x(),pe=c("div"),se=c("div"),he=c("span"),ke=C(me),je=x(),ue=c("button"),ue.textContent="Sign Out",a(o,"class","text-3xl font-bold mb-4 text-gray-800 dark:text-white"),a(s,"class","text-gray-600 dark:text-gray-300 mb-6"),a(u,"class","text-lg font-semibold mb-4 text-gray-800 dark:text-white"),a(m,"class","text-2xl font-bold text-blue-600 dark:text-blue-400"),a(X,"class","text-sm text-gray-600 dark:text-gray-300"),a(B,"class","text-2xl font-bold text-green-600 dark:text-green-400"),a(K,"class","text-sm text-gray-600 dark:text-gray-300"),a(v,"class","text-2xl font-bold text-red-600 dark:text-red-400"),a(_,"class","text-sm text-gray-600 dark:text-gray-300"),a(y,"class","grid grid-cols-3 gap-4 text-center"),a(i,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-6 mb-6"),a(U,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200"),a(J,"class","flex justify-center"),a(S,"class","text-blue-500 hover:text-blue-600 underline"),a(w,"class","mt-6"),a(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),a(he,"class","text-gray-600 dark:text-gray-300 text-sm"),a(ue,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(se,"class","flex justify-center items-center gap-4"),a(pe,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700"),a(n,"class","text-center")},m(Z,ne){T(Z,n,ne),r(n,t),r(t,o),r(t,l),r(t,s),r(s,p),r(s,h),r(s,d),r(t,f),r(t,i),r(i,u),r(i,b),r(i,y),r(y,k),r(k,m),r(m,M),r(k,I),r(k,X),r(y,W),r(y,E),r(E,B),r(B,G),r(E,N),r(E,K),r(y,V),r(y,F),r(F,v),r(v,H),r(F,ee),r(F,_),r(i,D),Q&&Q.m(i,null),r(t,Y),r(t,J),r(J,U),r(t,q),r(t,w),r(w,S),r(n,oe),r(n,pe),r(pe,se),r(se,he),r(he,ke),r(se,je),r(se,ue),_e||(Ae=[A(U,"click",e[20]),A(S,"click",e[23]),A(ue,"click",e[13])],_e=!0)},p(Z,ne){ne[0]&1&&g!==(g=Z[0].length+"")&&L(h,g),ne[0]&64&&P!==(P=Z[6].total+"")&&L(M,P),ne[0]&64&&O!==(O=Z[6].known+"")&&L(G,O),ne[0]&64&&R!==(R=Z[6].unknown+"")&&L(H,R),Z[6].total>0?Q?Q.p(Z,ne):(Q=Ne(Z),Q.c(),Q.m(i,null)):Q&&(Q.d(1),Q=null),ne[0]&8&&me!==(me=Z[3]?`Signed in as ${Z[3].name}`:"Signed in")&&L(ke,me)},i:z,o:z,d(Z){Z&&j(n),Q&&Q.d(),_e=!1,te(Ae)}}}function xt(e){let n,t,o,l=e[1]+1+"",s,p,g=e[0].length+"",h,d,f,i,u,b,y,k,m,P,M,I=e[8]==="word-to-definition"?"Word â†’ Definition":"Definition â†’ Word",X,W,E,B,O,G,N,K,V,F,v,R=e[3]?`Signed in as ${e[3].name}`:"Signed in",H,ee,_,D,Y,J;function U(w){e[21](w)}let q={currentCard:e[11],studyMode:e[8]};return e[5]!==void 0&&(q.showDefinition=e[5]),E=new ct({props:q}),we.push(()=>it(E,"showDefinition",U)),E.$on("known",e[18]),E.$on("unknown",e[19]),E.$on("next",e[17]),{c(){n=c("div"),t=c("span"),o=C("Card "),s=C(l),p=C(" of "),h=C(g),d=x(),f=c("div"),i=c("span"),i.textContent="Study Mode:",u=x(),b=c("button"),y=c("span"),P=x(),M=c("span"),X=C(I),W=x(),Ye(E.$$.fragment),O=x(),G=c("div"),N=c("button"),N.textContent="Choose Different Spreadsheet",K=x(),V=c("div"),F=c("div"),v=c("span"),H=C(R),ee=x(),_=c("button"),_.textContent="Sign Out",a(t,"class","text-gray-600 dark:text-gray-300"),a(i,"class","text-sm text-gray-600 dark:text-gray-300 hidden sm:inline"),a(y,"class",k="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(e[8]==="word-to-definition"?"translate-x-6":"translate-x-1")),a(b,"class",m="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(e[8]==="word-to-definition"?"bg-blue-500":"bg-gray-400")),a(M,"class","text-sm text-gray-600 dark:text-gray-300 min-w-0"),a(f,"class","flex items-center gap-3"),a(n,"class","flex justify-between items-center mb-4"),a(N,"class","text-blue-500 hover:text-blue-600 underline"),a(G,"class","text-center mt-6"),a(v,"class","text-gray-600 dark:text-gray-300 text-sm"),a(_,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(F,"class","flex justify-center items-center gap-4"),a(V,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700")},m(w,S){T(w,n,S),r(n,t),r(t,o),r(t,s),r(t,p),r(t,h),r(n,d),r(n,f),r(f,i),r(f,u),r(f,b),r(b,y),r(f,P),r(f,M),r(M,X),T(w,W,S),Pe(E,w,S),T(w,O,S),T(w,G,S),r(G,N),T(w,K,S),T(w,V,S),r(V,F),r(F,v),r(v,H),r(F,ee),r(F,_),D=!0,Y||(J=[A(b,"click",e[16]),A(N,"click",e[22]),A(_,"click",e[13])],Y=!0)},p(w,S){(!D||S[0]&2)&&l!==(l=w[1]+1+"")&&L(s,l),(!D||S[0]&1)&&g!==(g=w[0].length+"")&&L(h,g),(!D||S[0]&256&&k!==(k="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(w[8]==="word-to-definition"?"translate-x-6":"translate-x-1")))&&a(y,"class",k),(!D||S[0]&256&&m!==(m="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(w[8]==="word-to-definition"?"bg-blue-500":"bg-gray-400")))&&a(b,"class",m),(!D||S[0]&256)&&I!==(I=w[8]==="word-to-definition"?"Word â†’ Definition":"Definition â†’ Word")&&L(X,I);const oe={};S[0]&2048&&(oe.currentCard=w[11]),S[0]&256&&(oe.studyMode=w[8]),!B&&S[0]&32&&(B=!0,oe.showDefinition=w[5],nt(()=>B=!1)),E.$set(oe),(!D||S[0]&8)&&R!==(R=w[3]?`Signed in as ${w[3].name}`:"Signed in")&&L(H,R)},i(w){D||(ie(E.$$.fragment,w),D=!0)},o(w){ce(E.$$.fragment,w),D=!1},d(w){w&&(j(n),j(W),j(O),j(G),j(K),j(V)),Ee(E,w),Y=!1,te(J)}}}function St(e){let n;return{c(){n=c("div"),n.innerHTML='<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div> <p class="text-gray-600 dark:text-gray-300">Loading flashcards...</p></div>',a(n,"class","text-center")},m(t,o){T(t,n,o)},p:z,i:z,o:z,d(t){t&&j(n)}}}function Ct(e){let n,t;return n=new wt({}),n.$on("selected",e[14]),{c(){Ye(n.$$.fragment)},m(o,l){Pe(n,o,l),t=!0},p:z,i(o){t||(ie(n.$$.fragment,o),t=!0)},o(o){ce(n.$$.fragment,o),t=!1},d(o){Ee(n,o)}}}function Ne(e){let n,t,o,l=Math.round(e[6].known/e[6].total*100)+"",s,p,g,h,d;return{c(){n=c("div"),t=c("div"),o=C("Accuracy: "),s=C(l),p=C("%"),g=x(),h=c("div"),d=c("div"),a(t,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),a(d,"class","bg-green-500 h-2 rounded-full transition-all duration-300"),$(d,"width",e[6].known/e[6].total*100+"%"),a(h,"class","w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2"),a(n,"class","mt-4")},m(f,i){T(f,n,i),r(n,t),r(t,o),r(t,s),r(t,p),r(n,g),r(n,h),r(h,d)},p(f,i){i[0]&64&&l!==(l=Math.round(f[6].known/f[6].total*100)+"")&&L(s,l),i[0]&64&&$(d,"width",f[6].known/f[6].total*100+"%")},d(f){f&&j(n)}}}function Le(e){let n,t,o,l=e[3]?`Signed in as ${e[3].name}`:"Signed in",s,p,g,h,d;return{c(){n=c("div"),t=c("div"),o=c("span"),s=C(l),p=x(),g=c("button"),g.textContent="Sign Out",a(o,"class","text-gray-600 dark:text-gray-300 text-sm"),a(g,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),a(t,"class","flex justify-center items-center gap-4"),a(n,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700")},m(f,i){T(f,n,i),r(n,t),r(t,o),r(o,s),r(t,p),r(t,g),h||(d=A(g,"click",e[13]),h=!0)},p(f,i){i[0]&8&&l!==(l=f[3]?`Signed in as ${f[3].name}`:"Signed in")&&L(s,l)},d(f){f&&j(n),h=!1,d()}}}function Dt(e){let n,t,o,l,s,p,g;const h=[_t,kt],d=[];function f(i,u){return i[2]?1:0}return s=f(e),p=d[s]=h[s](e),{c(){n=c("main"),t=c("div"),o=c("header"),o.innerHTML='<h1 class="text-4xl font-bold text-gray-800 dark:text-white mb-2">mFlashcards</h1>',l=x(),p.c(),a(o,"class","text-center mb-8"),a(t,"class","max-w-4xl mx-auto"),a(n,"class","min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4")},m(i,u){T(i,n,u),r(n,t),r(t,o),r(t,l),d[s].m(t,null),g=!0},p(i,u){let b=s;s=f(i),s===b?d[s].p(i,u):(Ue(),ce(d[b],1,1,()=>{d[b]=null}),Ve(),p=d[s],p?p.p(i,u):(p=d[s]=h[s](i),p.c()),ie(p,1),p.m(t,null))},i(i){g||(ie(p),g=!0)},o(i){ce(p),g=!1},d(i){i&&j(n),d[s].d()}}}const Pt="https://sheets.googleapis.com/$discovery/rest?version=v4",Et="https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/userinfo.profile";function Mt(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}async function It(){await new Promise(e=>{window.gapi.load("client",e)}),await window.gapi.client.init({discoveryDocs:[Pt]})}function We(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}}function jt(e,n,t){let o,l,s=!1,p=null,g=null,h=null,d=[],f=0,i=!1,u={total:0,known:0,unknown:0},b=!1,y="word-to-definition",k=!1,m;$e(async()=>{if(typeof window<"u"){await Mt(),await It(),await P();const _=localStorage.getItem("google_access_token"),D=localStorage.getItem("user_profile");if(_){if(p=_,window.gapi.client.setToken({access_token:p}),t(2,s=!0),D)try{t(3,g=JSON.parse(D))}catch(Y){console.error("Error parsing saved profile:",Y),await I()}else await I();await W()}}});async function P(){m=google.accounts.oauth2.initTokenClient({client_id:"828760418951-ss53asiek3mm9djh818op49fgl4apj3m.apps.googleusercontent.com",scope:Et,callback:async _=>{_.access_token&&(p=_.access_token,localStorage.setItem("google_access_token",p),window.gapi.client.setToken({access_token:p}),t(2,s=!0),await I(),await W())}})}function M(){m&&m.requestAccessToken()}async function I(){try{const _=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${p}`}});_.ok&&(t(3,g=await _.json()),localStorage.setItem("user_profile",JSON.stringify(g)))}catch(_){console.error("Error fetching user profile:",_)}}function X(){p&&(google.accounts.oauth2.revoke(p),localStorage.removeItem("google_access_token"),localStorage.removeItem("user_profile")),t(2,s=!1),p=null,t(3,g=null),t(4,h=null),t(0,d=[]),O()}async function W(){console.log("ðŸ” Checking for existing mFlashcards spreadsheet...");try{if(!window.gapi||!window.gapi.client){console.log("âŒ GAPI client not available");return}console.log("ðŸ“‹ Searching Google Drive...");const _=await window.gapi.client.request({path:"https://www.googleapis.com/drive/v3/files",params:{q:"name='mFlashcards' and mimeType='application/vnd.google-apps.spreadsheet' and trashed=false",fields:"files(id, name, createdTime)"}});if(console.log("ðŸ” Drive API response:",_),_.result.files&&_.result.files.length>0){const D=_.result.files[0];console.log("âœ… Found existing mFlashcards file:",D),t(4,h=D.id),await B()}else console.log("âŒ No existing mFlashcards file found in Google Drive"),console.log("ðŸ’¡ You can create one or select an existing spreadsheet")}catch(_){console.error("âŒ Error checking for existing spreadsheet:",_),console.log("Response status:",_.status),console.log("Response body:",_.body),_.status===403&&console.log("ðŸ” Permission denied - make sure Drive API is enabled and scopes are correct")}}async function E(_){t(4,h=_.detail.id),await B()}async function B(){if(h){t(7,b=!0);try{const Y=((await window.gapi.client.sheets.spreadsheets.get({spreadsheetId:h})).result.sheets||[]).map(q=>q.properties.title);if(console.log("Available sheets:",Y),!Y.includes("mFlashcards"))throw new Error(`mFlashcards sheet not found. Available sheets: ${Y.join(", ")}`);const U=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:h,range:"mFlashcards!A:B"})).result.values||[];if(console.log("Raw data from sheet:",U),U.length===0)throw new Error("mFlashcards sheet is empty");if(U.length===1)throw new Error("mFlashcards sheet only has headers. Add some flashcard data below the headers.");if(t(0,d=U.slice(1).map(([q,w])=>({word:q||"",definition:w||""})).filter(q=>q.word&&q.definition)),d.length===0)throw new Error("No valid flashcard pairs found. Make sure both Word and Definition columns have data.");We(d),O(),console.log("Loaded flashcards:",d)}catch(_){console.error("Error loading spreadsheet data:",_);let D="Error loading spreadsheet data: ";_.status===403?D+="Permission denied. Make sure the spreadsheet is accessible and you have edit permissions.":_.status===404?D+="Spreadsheet not found. Make sure you selected the correct file.":_.message?D+=_.message:D+="Unknown error occurred.",alert(D)}finally{t(7,b=!1)}}}function O(){t(1,f=0),t(5,i=!1),t(6,u={total:0,known:0,unknown:0}),t(9,k=!1)}function G(){t(8,y=y==="word-to-definition"?"definition-to-word":"word-to-definition"),t(5,i=!1)}function N(){t(5,i=!1),t(1,f=f+1),f>=d.length&&t(9,k=!0)}function K(){t(6,u.total++,u),t(6,u.known++,u),N()}function V(){t(6,u.total++,u),t(6,u.unknown++,u),N()}function F(){We(d),O()}function v(_){i=_,t(5,i)}const R=()=>t(4,h=null),H=()=>t(4,h=null),ee=()=>t(4,h=null);return e.$$.update=()=>{e.$$.dirty[0]&3&&t(11,o=d[f]),e.$$.dirty[0]&1&&t(10,l=d.length>0)},[d,f,s,g,h,i,u,b,y,k,l,o,M,X,E,O,G,N,K,V,F,v,R,H,ee]}class At extends Ie{constructor(n){super(),Me(this,n,jt,Dt,De,{},null,[-1,-1])}}new At({target:document.getElementById("app")});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/mFlashcards/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});
//# sourceMappingURL=index-DSyAXHE0.js.map
