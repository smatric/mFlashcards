var Qe=Object.defineProperty;var Ze=(e,n,t)=>n in e?Qe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var _e=(e,n,t)=>Ze(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function V(){}function Ve(e){return e()}function Fe(){return Object.create(null)}function se(e){e.forEach(Ve)}function Be(e){return typeof e=="function"}function Pe(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function $e(e){return Object.keys(e).length===0}function i(e,n){e.appendChild(n)}function O(e,n,t){e.insertBefore(n,t||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function y(){return C(" ")}function Xe(){return C("")}function T(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function l(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function et(e){return Array.from(e.childNodes)}function R(e,n){n=""+n,e.data!==n&&(e.data=n)}function oe(e,n,t,o){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,"")}function tt(e,n,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:n,bubbles:t,cancelable:o})}let be;function me(e){be=e}function He(){if(!be)throw new Error("Function called outside component initialization");return be}function nt(e){He().$$.on_mount.push(e)}function Ue(){const e=He();return(n,t,{cancelable:o=!1}={})=>{const r=e.$$.callbacks[n];if(r){const s=tt(n,t,{cancelable:o});return r.slice().forEach(p=>{p.call(e,s)}),!s.defaultPrevented}return!0}}const fe=[],ke=[];let ge=[];const Se=[],ot=Promise.resolve();let Ce=!1;function it(){Ce||(Ce=!0,ot.then(Ke))}function De(e){ge.push(e)}function rt(e){Se.push(e)}const ye=new Set;let ue=0;function Ke(){if(ue!==0)return;const e=be;do{try{for(;ue<fe.length;){const n=fe[ue];ue++,me(n),st(n.$$)}}catch(n){throw fe.length=0,ue=0,n}for(me(null),fe.length=0,ue=0;ke.length;)ke.pop()();for(let n=0;n<ge.length;n+=1){const t=ge[n];ye.has(t)||(ye.add(t),t())}ge.length=0}while(fe.length);for(;Se.length;)Se.pop()();Ce=!1,ye.clear(),me(e)}function st(e){if(e.fragment!==null){e.update(),se(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(De)}}function lt(e){const n=[],t=[];ge.forEach(o=>e.indexOf(o)===-1?n.push(o):t.push(o)),t.forEach(o=>o()),ge=n}const we=new Set;let de;function Ye(){de={r:0,c:[],p:de}}function qe(){de.r||se(de.c),de=de.p}function ce(e,n){e&&e.i&&(we.delete(e),e.i(n))}function pe(e,n,t,o){if(e&&e.o){if(we.has(e))return;we.add(e),de.c.push(()=>{we.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}function at(e,n,t){const o=e.$$.props[n];o!==void 0&&(e.$$.bound[o]=t,t(e.$$.ctx[o]))}function Je(e){e&&e.c()}function Me(e,n,t){const{fragment:o,after_update:r}=e.$$;o&&o.m(n,t),De(()=>{const s=e.$$.on_mount.map(Ve).filter(Be);e.$$.on_destroy?e.$$.on_destroy.push(...s):se(s),e.$$.on_mount=[]}),r.forEach(De)}function Ee(e,n){const t=e.$$;t.fragment!==null&&(lt(t.after_update),se(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function dt(e,n){e.$$.dirty[0]===-1&&(fe.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Ie(e,n,t,o,r,s,p=null,g=[-1]){const h=be;me(e);const c=e.$$={fragment:null,ctx:[],props:s,update:V,not_equal:r,bound:Fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:Fe(),dirty:g,skip_bound:!1,root:n.target||h.$$.root};p&&p(c.root);let f=!1;if(c.ctx=t?t(e,n.props||{},(a,u,...m)=>{const _=m.length?m[0]:u;return c.ctx&&r(c.ctx[a],c.ctx[a]=_)&&(!c.skip_bound&&c.bound[a]&&c.bound[a](_),f&&dt(e,a)),u}):[],c.update(),f=!0,se(c.before_update),c.fragment=o?o(c.ctx):!1,n.target){if(n.hydrate){const a=et(n.target);c.fragment&&c.fragment.l(a),a.forEach(I)}else c.fragment&&c.fragment.c();n.intro&&ce(e.$$.fragment),Me(e,n.target,n.anchor),Ke()}me(h)}class Ae{constructor(){_e(this,"$$");_e(this,"$$set")}$destroy(){Ee(this,1),this.$destroy=V}$on(n,t){if(!Be(t))return V;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const r=o.indexOf(t);r!==-1&&o.splice(r,1)}}$set(n){this.$$set&&!$e(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const ct="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ct);function je(e){let n,t,o,r,s,p,g,h,c=e[8]?"Word":"Definition",f,a,u,m,_=(e[8]?e[1].word:e[1].definition)+"",k,b,D,E,F,B=e[8]?"definition":"word",Q,A,z,j,Z,L,Y,q=e[8]?"Definition":"Word",G,$,N,w,ee=(e[8]?e[1].definition:e[1].word)+"",v,P,J,ie,X,U,x,M,re,ae,W="speechSynthesis"in window&&(e[8]?e[1].word:e[1].definition)===e[1].word&&Le(e),H="speechSynthesis"in window&&(e[8]?e[1].definition:e[1].word)===e[1].word&&Ne(e);return{c(){n=d("div"),t=d("div"),o=d("div"),r=d("div"),s=d("div"),p=y(),g=d("div"),h=d("div"),f=C(c),a=y(),u=d("div"),m=d("div"),k=C(_),b=y(),W&&W.c(),D=y(),E=d("div"),F=C("Click to reveal "),Q=C(B),A=y(),z=d("div"),j=d("div"),Z=y(),L=d("div"),Y=d("div"),G=C(q),$=y(),N=d("div"),w=d("div"),v=C(ee),P=y(),H&&H.c(),ie=y(),X=d("div"),U=d("button"),U.textContent="Hard",x=y(),M=d("button"),M.textContent="Easy",l(s,"class","absolute inset-0 rounded-xl transition-all duration-75 ease-out svelte-bpxev9"),oe(s,"background-color",e[7]),oe(s,"pointer-events","none"),l(h,"class","text-sm text-gray-500 dark:text-gray-400 mb-2"),l(m,"class","text-2xl md:text-3xl font-semibold text-gray-800 dark:text-white break-words"),l(u,"class","flex items-center justify-center gap-3 mb-6"),l(E,"class","text-sm text-gray-500 dark:text-gray-400"),l(g,"class","text-center relative z-10 svelte-bpxev9"),l(r,"class","flashcard-face flashcard-front bg-white dark:bg-gray-800 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center relative svelte-bpxev9"),l(j,"class","absolute inset-0 rounded-xl transition-all duration-75 ease-out svelte-bpxev9"),oe(j,"background-color",e[7]),oe(j,"pointer-events","none"),l(Y,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),l(w,"class","text-2xl md:text-3xl font-semibold text-blue-800 dark:text-blue-200 break-words"),l(N,"class","flex items-center justify-center gap-3"),l(L,"class","text-center relative z-20 svelte-bpxev9"),l(z,"class","flashcard-face flashcard-back bg-blue-50 dark:bg-blue-900 shadow-xl rounded-xl p-8 min-h-[300px] flex items-center justify-center relative svelte-bpxev9"),l(o,"class",J="flashcard-container cursor-pointer transform-style-preserve-3d "+(e[6]?"transition-all duration-200":"")+" "+(e[0]?"rotate-y-180":"")+" svelte-bpxev9"),oe(o,"transform","translateX("+e[2]+"px) "+(e[0]?"rotateY(180deg)":"")),oe(o,"opacity",e[5]),l(o,"role","button"),l(o,"tabindex","0"),l(t,"class","relative perspective-1000 mb-8 svelte-bpxev9"),l(U,"class","bg-red-500 hover:bg-red-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200"),l(M,"class","bg-green-500 hover:bg-green-600 text-white font-medium px-8 py-3 rounded-lg transition-colors duration-200"),l(X,"class","flex gap-6 justify-center mt-6"),l(n,"class","max-w-2xl mx-auto")},m(S,K){O(S,n,K),i(n,t),i(t,o),i(o,r),i(r,s),i(r,p),i(r,g),i(g,h),i(h,f),i(g,a),i(g,u),i(u,m),i(m,k),i(u,b),W&&W.m(u,null),i(g,D),i(g,E),i(E,F),i(E,Q),i(o,A),i(o,z),i(z,j),i(z,Z),i(z,L),i(L,Y),i(Y,G),i(L,$),i(L,N),i(N,w),i(w,v),i(N,P),H&&H.m(N,null),e[21](o),i(n,ie),i(n,X),i(X,U),i(X,x),i(X,M),re||(ae=[T(o,"click",e[22]),T(o,"keydown",e[23]),T(o,"mousedown",e[12]),T(o,"mousemove",e[13]),T(o,"mouseup",e[14]),T(o,"mouseleave",e[14]),T(o,"touchstart",e[12]),T(o,"touchmove",e[13]),T(o,"touchend",e[14]),T(U,"click",e[11]),T(M,"click",e[10])],re=!0)},p(S,K){K&128&&oe(s,"background-color",S[7]),K&256&&c!==(c=S[8]?"Word":"Definition")&&R(f,c),K&258&&_!==(_=(S[8]?S[1].word:S[1].definition)+"")&&R(k,_),"speechSynthesis"in window&&(S[8]?S[1].word:S[1].definition)===S[1].word?W?W.p(S,K):(W=Le(S),W.c(),W.m(u,null)):W&&(W.d(1),W=null),K&256&&B!==(B=S[8]?"definition":"word")&&R(Q,B),K&128&&oe(j,"background-color",S[7]),K&256&&q!==(q=S[8]?"Definition":"Word")&&R(G,q),K&258&&ee!==(ee=(S[8]?S[1].definition:S[1].word)+"")&&R(v,ee),"speechSynthesis"in window&&(S[8]?S[1].definition:S[1].word)===S[1].word?H?H.p(S,K):(H=Ne(S),H.c(),H.m(N,null)):H&&(H.d(1),H=null),K&65&&J!==(J="flashcard-container cursor-pointer transform-style-preserve-3d "+(S[6]?"transition-all duration-200":"")+" "+(S[0]?"rotate-y-180":"")+" svelte-bpxev9")&&l(o,"class",J),K&5&&oe(o,"transform","translateX("+S[2]+"px) "+(S[0]?"rotateY(180deg)":"")),K&32&&oe(o,"opacity",S[5])},d(S){S&&I(n),W&&W.d(),H&&H.d(),e[21](null),re=!1,se(ae)}}}function Le(e){let n,t,o;return{c(){n=d("button"),n.innerHTML='<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg>',l(n,"class","flex-shrink-0 p-2 rounded-full bg-blue-100 hover:bg-blue-200 dark:bg-blue-800 dark:hover:bg-blue-700 transition-colors duration-200 text-blue-600 dark:text-blue-300 relative z-50"),l(n,"title","Play pronunciation")},m(r,s){O(r,n,s),t||(o=T(n,"click",e[19]),t=!0)},p:V,d(r){r&&I(n),t=!1,o()}}}function Ne(e){let n,t,o;return{c(){n=d("button"),n.innerHTML='<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg>',l(n,"class","flex-shrink-0 p-2 rounded-full bg-blue-200 hover:bg-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600 transition-colors duration-200 text-blue-700 dark:text-blue-200 relative z-50"),l(n,"title","Play pronunciation")},m(r,s){O(r,n,s),t||(o=T(n,"click",e[20]),t=!0)},p:V,d(r){r&&I(n),t=!1,o()}}}function ut(e){let n,t=e[1]&&je(e);return{c(){t&&t.c(),n=Xe()},m(o,r){t&&t.m(o,r),O(o,n,r)},p(o,[r]){o[1]?t?t.p(o,r):(t=je(o),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:V,o:V,d(o){o&&I(n),t&&t.d(o)}}}function We(e){if("speechSynthesis"in window){window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);n.rate=.8,n.volume=.7;const o=window.speechSynthesis.getVoices().find(r=>r.lang.startsWith("en"));o&&(n.voice=o),window.speechSynthesis.speak(n)}}function ft(e,n,t){let o,r,s,p;const g=Ue();let{currentCard:h}=n,{studyMode:c="word-to-definition"}=n,{showDefinition:f=!1}=n,a,u=!1,m=0,_=0,k=0,b=!1,D=1,E=!0,F=!1;function B(){t(0,f=!f)}function Q(){g("known")}function A(){g("unknown")}function z(w){b||(t(16,u=!0),F=!1,m=w.type==="mousedown"?w.clientX:w.touches[0].clientX,_=m,t(2,k=0))}function j(w){!u||b||(w.preventDefault(),_=w.type==="mousemove"?w.clientX:w.touches[0].clientX,t(2,k=_-m),Math.abs(k)>5&&(F=!0),t(2,k=Math.max(-200,Math.min(200,k))))}function Z(w){if(!u||b)return;t(16,u=!1);const ee=80;k>ee?(w&&w.preventDefault(),t(3,b=!0),L(()=>Q())):k<-ee?(w&&w.preventDefault(),t(3,b=!0),L(()=>A())):F?(w&&w.preventDefault(),t(3,b=!0),t(2,k=0),setTimeout(()=>{t(3,b=!1)},200)):t(3,b=!1)}function L(w){t(2,k=k>0?400:-400),setTimeout(()=>{w(),t(6,E=!1),t(5,D=0),t(2,k=0),setTimeout(()=>{t(6,E=!0),t(5,D=1),t(3,b=!1),F=!1},100)},200)}const Y=w=>{w.preventDefault(),w.stopPropagation(),w.stopImmediatePropagation(),We(h.word)},q=w=>{w.preventDefault(),w.stopPropagation(),w.stopImmediatePropagation(),We(h.word)};function G(w){ke[w?"unshift":"push"](()=>{a=w,t(4,a)})}const $=w=>{b||B()},N=w=>w.key===" "&&B();return e.$$set=w=>{"currentCard"in w&&t(1,h=w.currentCard),"studyMode"in w&&t(15,c=w.studyMode),"showDefinition"in w&&t(0,f=w.showDefinition)},e.$$.update=()=>{e.$$.dirty&10&&h&&!b&&t(0,f=!1),e.$$.dirty&32768&&t(8,o=c==="word-to-definition"),e.$$.dirty&4&&t(17,r=Math.min(Math.abs(k)/150,.3)),e.$$.dirty&4&&t(18,s=k>0?"right":"left"),e.$$.dirty&458756&&t(7,p=u&&Math.abs(k)>20?s==="right"?`rgba(34, 197, 94, ${r})`:`rgba(239, 68, 68, ${r})`:"transparent")},[f,h,k,b,a,D,E,p,o,B,Q,A,z,j,Z,c,u,r,s,Y,q,G,$,N]}class gt extends Ae{constructor(n){super(),Ie(this,n,ft,ut,Pe,{currentCard:1,studyMode:15,showDefinition:0})}}function pt(e){let n;return{c(){n=C("📁 Browse Google Drive")},m(t,o){O(t,n,o)},d(t){t&&I(n)}}}function ht(e){let n;return{c(){n=C("Picker Failed to Load")},m(t,o){O(t,n,o)},d(t){t&&I(n)}}}function mt(e){let n;return{c(){n=C("Loading Picker...")},m(t,o){O(t,n,o)},d(t){t&&I(n)}}}function bt(e){let n,t,o,r,s,p,g,h,c,f,a,u;function m(b,D){return b[1]?mt:b[0]?pt:ht}let _=m(e),k=_(e);return{c(){n=d("div"),t=d("div"),o=d("h2"),o.textContent="📊 Select Spreadsheet",r=y(),s=d("p"),s.textContent="Choose a Google Sheets document containing your flashcard data.",p=y(),g=d("p"),g.textContent=`Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns,
      and optionally a "StatsData" sheet for saving progress.`,h=y(),c=d("button"),k.c(),l(o,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),l(s,"class","text-gray-600 dark:text-gray-300 mb-6"),l(g,"class","text-sm text-gray-500 dark:text-gray-400 mb-6"),c.disabled=f=!e[0]||e[1],l(c,"class","bg-green-500 hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),l(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),l(n,"class","text-center")},m(b,D){O(b,n,D),i(n,t),i(t,o),i(t,r),i(t,s),i(t,p),i(t,g),i(t,h),i(t,c),k.m(c,null),a||(u=T(c,"click",e[2]),a=!0)},p(b,[D]){_!==(_=m(b))&&(k.d(1),k=_(b),k&&(k.c(),k.m(c,null))),D&3&&f!==(f=!b[0]||b[1])&&(c.disabled=f)},i:V,o:V,d(b){b&&I(n),k.d(),a=!1,u()}}}function wt(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}function kt(){var e;return(e=window.gapi.client.getToken())==null?void 0:e.access_token}function vt(e,n,t){const o=Ue();let r=!1,s=!0;async function p(){try{await wt(),await g()}catch(f){console.error("Failed to initialize picker:",f)}finally{t(1,s=!1)}}function g(){return new Promise((f,a)=>{window.gapi.load("picker",{callback:()=>{t(0,r=!0),f()},onerror:a})})}function h(){if(r&&window.gapi.client.getToken()){const f=kt(),a=new google.picker.View(google.picker.ViewId.SPREADSHEETS);a.setMimeTypes("application/vnd.google-apps.spreadsheet"),new google.picker.PickerBuilder().enableFeature(google.picker.Feature.SUPPORT_DRIVES).setOAuthToken(f).addView(a).setCallback(c).build().setVisible(!0)}}function c(f){if(f.action===google.picker.Action.PICKED){const a=f.docs[0].id,u=f.docs[0].name;o("selected",{id:a,name:u})}}return typeof window<"u"&&p(),[r,s,h]}class _t extends Ae{constructor(n){super(),Ie(this,n,vt,bt,Pe,{})}}function yt(e){let n,t,o,r,s,p,g=e[6].total>0&&ze(e);const h=[Mt,Pt,Dt,Ct,St],c=[];function f(u,m){return u[4]?u[7]?1:u[10]&&!u[9]?2:u[9]?3:4:0}t=f(e),o=c[t]=h[t](e);let a=(!e[10]||e[7])&&Re(e);return{c(){g&&g.c(),n=y(),o.c(),r=y(),a&&a.c(),s=Xe()},m(u,m){g&&g.m(u,m),O(u,n,m),c[t].m(u,m),O(u,r,m),a&&a.m(u,m),O(u,s,m),p=!0},p(u,m){u[6].total>0?g?g.p(u,m):(g=ze(u),g.c(),g.m(n.parentNode,n)):g&&(g.d(1),g=null);let _=t;t=f(u),t===_?c[t].p(u,m):(Ye(),pe(c[_],1,1,()=>{c[_]=null}),qe(),o=c[t],o?o.p(u,m):(o=c[t]=h[t](u),o.c()),ce(o,1),o.m(r.parentNode,r)),!u[10]||u[7]?a?a.p(u,m):(a=Re(u),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(u){p||(ce(o),p=!0)},o(u){pe(o),p=!1},d(u){u&&(I(n),I(r),I(s)),g&&g.d(u),c[t].d(u),a&&a.d(u)}}}function xt(e){let n,t,o,r,s,p,g,h,c;return{c(){n=d("div"),t=d("div"),o=d("h2"),o.textContent="Welcome!",r=y(),s=d("p"),s.textContent="Sign in with your Google account to access your flashcard spreadsheets.",p=y(),g=d("button"),g.textContent="Sign in with Google",l(o,"class","text-2xl font-semibold mb-4 text-gray-800 dark:text-white"),l(s,"class","text-gray-600 dark:text-gray-300 mb-6"),l(g,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200"),l(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),l(n,"class","text-center")},m(f,a){O(f,n,a),i(n,t),i(t,o),i(t,r),i(t,s),i(t,p),i(t,g),h||(c=T(g,"click",e[12]),h=!0)},p:V,i:V,o:V,d(f){f&&I(n),h=!1,c()}}}function ze(e){let n,t,o,r=e[6].known+"",s,p,g=e[6].unknown+"",h,c,f=e[6].total+"",a,u,m,_,k;return{c(){n=d("div"),t=d("div"),o=d("span"),s=C(r),p=C(" ✅ "),h=C(g),c=C(" ❌ / "),a=C(f),u=y(),m=d("button"),m.textContent="Reset Deck",l(o,"class","text-sm font-medium text-gray-700 dark:text-gray-300"),l(m,"class","ml-4 bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm transition-colors duration-200"),l(t,"class","bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow"),l(n,"class","flex justify-center mb-6")},m(b,D){O(b,n,D),i(n,t),i(t,o),i(o,s),i(o,p),i(o,h),i(o,c),i(o,a),i(t,u),i(t,m),_||(k=T(m,"click",e[15]),_=!0)},p(b,D){D[0]&64&&r!==(r=b[6].known+"")&&R(s,r),D[0]&64&&g!==(g=b[6].unknown+"")&&R(h,g),D[0]&64&&f!==(f=b[6].total+"")&&R(a,f)},d(b){b&&I(n),_=!1,k()}}}function St(e){let n,t,o,r,s,p,g,h,c,f,a,u=e[3]?`Signed in as ${e[3].name}`:"Signed in",m,_,k,b,D;return{c(){n=d("div"),t=d("div"),o=d("h3"),o.textContent="No flashcards found",r=y(),s=d("p"),s.textContent='Make sure your spreadsheet has a "mFlashcards" sheet with "Word" and "Definition" columns.',p=y(),g=d("button"),g.textContent="Choose Different Spreadsheet",h=y(),c=d("div"),f=d("div"),a=d("span"),m=C(u),_=y(),k=d("button"),k.textContent="Sign Out",l(o,"class","text-xl font-semibold mb-4 text-gray-800 dark:text-white"),l(s,"class","text-gray-600 dark:text-gray-300 mb-4"),l(g,"class","bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors duration-200"),l(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"),l(a,"class","text-gray-600 dark:text-gray-300 text-sm"),l(k,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),l(f,"class","flex justify-center items-center gap-4"),l(c,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700"),l(n,"class","text-center")},m(E,F){O(E,n,F),i(n,t),i(t,o),i(t,r),i(t,s),i(t,p),i(t,g),i(n,h),i(n,c),i(c,f),i(f,a),i(a,m),i(f,_),i(f,k),b||(D=[T(g,"click",e[24]),T(k,"click",e[13])],b=!0)},p(E,F){F[0]&8&&u!==(u=E[3]?`Signed in as ${E[3].name}`:"Signed in")&&R(m,u)},i:V,o:V,d(E){E&&I(n),b=!1,se(D)}}}function Ct(e){let n,t,o,r,s,p,g=e[0].length+"",h,c,f,a,u,m,_,k,b,D=e[6].total+"",E,F,B,Q,A,z,j=e[6].known+"",Z,L,Y,q,G,$,N=e[6].unknown+"",w,ee,v,P,J,ie,X,U,x,M,re,ae,W,H,S=e[3]?`Signed in as ${e[3].name}`:"Signed in",K,Te,he,ve,Oe,te=e[6].total>0&&Ge(e);return{c(){n=d("div"),t=d("div"),o=d("h2"),o.textContent="🎉 Deck Complete!",r=y(),s=d("p"),p=C("You've finished all "),h=C(g),c=C(" cards in this deck."),f=y(),a=d("div"),u=d("h3"),u.textContent="Session Stats",m=y(),_=d("div"),k=d("div"),b=d("div"),E=C(D),F=y(),B=d("div"),B.textContent="Total",Q=y(),A=d("div"),z=d("div"),Z=C(j),L=y(),Y=d("div"),Y.textContent="Known",q=y(),G=d("div"),$=d("div"),w=C(N),ee=y(),v=d("div"),v.textContent="Unknown",P=y(),te&&te.c(),J=y(),ie=d("div"),X=d("button"),X.textContent="🔄 Study Again",U=y(),x=d("div"),M=d("button"),M.textContent="Choose Different Spreadsheet",re=y(),ae=d("div"),W=d("div"),H=d("span"),K=C(S),Te=y(),he=d("button"),he.textContent="Sign Out",l(o,"class","text-3xl font-bold mb-4 text-gray-800 dark:text-white"),l(s,"class","text-gray-600 dark:text-gray-300 mb-6"),l(u,"class","text-lg font-semibold mb-4 text-gray-800 dark:text-white"),l(b,"class","text-2xl font-bold text-blue-600 dark:text-blue-400"),l(B,"class","text-sm text-gray-600 dark:text-gray-300"),l(z,"class","text-2xl font-bold text-green-600 dark:text-green-400"),l(Y,"class","text-sm text-gray-600 dark:text-gray-300"),l($,"class","text-2xl font-bold text-red-600 dark:text-red-400"),l(v,"class","text-sm text-gray-600 dark:text-gray-300"),l(_,"class","grid grid-cols-3 gap-4 text-center"),l(a,"class","bg-gray-50 dark:bg-gray-700 rounded-lg p-6 mb-6"),l(X,"class","bg-blue-500 hover:bg-blue-600 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200"),l(ie,"class","flex justify-center"),l(M,"class","text-blue-500 hover:text-blue-600 underline"),l(x,"class","mt-6"),l(t,"class","bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 max-w-md mx-auto"),l(H,"class","text-gray-600 dark:text-gray-300 text-sm"),l(he,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),l(W,"class","flex justify-center items-center gap-4"),l(ae,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700"),l(n,"class","text-center")},m(ne,le){O(ne,n,le),i(n,t),i(t,o),i(t,r),i(t,s),i(s,p),i(s,h),i(s,c),i(t,f),i(t,a),i(a,u),i(a,m),i(a,_),i(_,k),i(k,b),i(b,E),i(k,F),i(k,B),i(_,Q),i(_,A),i(A,z),i(z,Z),i(A,L),i(A,Y),i(_,q),i(_,G),i(G,$),i($,w),i(G,ee),i(G,v),i(a,P),te&&te.m(a,null),i(t,J),i(t,ie),i(ie,X),i(t,U),i(t,x),i(x,M),i(n,re),i(n,ae),i(ae,W),i(W,H),i(H,K),i(W,Te),i(W,he),ve||(Oe=[T(X,"click",e[20]),T(M,"click",e[23]),T(he,"click",e[13])],ve=!0)},p(ne,le){le[0]&1&&g!==(g=ne[0].length+"")&&R(h,g),le[0]&64&&D!==(D=ne[6].total+"")&&R(E,D),le[0]&64&&j!==(j=ne[6].known+"")&&R(Z,j),le[0]&64&&N!==(N=ne[6].unknown+"")&&R(w,N),ne[6].total>0?te?te.p(ne,le):(te=Ge(ne),te.c(),te.m(a,null)):te&&(te.d(1),te=null),le[0]&8&&S!==(S=ne[3]?`Signed in as ${ne[3].name}`:"Signed in")&&R(K,S)},i:V,o:V,d(ne){ne&&I(n),te&&te.d(),ve=!1,se(Oe)}}}function Dt(e){let n,t,o,r=e[1]+1+"",s,p,g=e[0].length+"",h,c,f,a,u,m,_,k,b,D,E,F=e[8]==="word-to-definition"?"Word → Definition":"Definition → Word",B,Q,A,z,j,Z,L,Y,q,G,$,N=e[3]?`Signed in as ${e[3].name}`:"Signed in",w,ee,v,P,J,ie;function X(x){e[21](x)}let U={currentCard:e[11],studyMode:e[8]};return e[5]!==void 0&&(U.showDefinition=e[5]),A=new gt({props:U}),ke.push(()=>at(A,"showDefinition",X)),A.$on("known",e[18]),A.$on("unknown",e[19]),A.$on("next",e[17]),{c(){n=d("div"),t=d("span"),o=C("Card "),s=C(r),p=C(" of "),h=C(g),c=y(),f=d("div"),a=d("span"),a.textContent="Study Mode:",u=y(),m=d("button"),_=d("span"),D=y(),E=d("span"),B=C(F),Q=y(),Je(A.$$.fragment),j=y(),Z=d("div"),L=d("button"),L.textContent="Choose Different Spreadsheet",Y=y(),q=d("div"),G=d("div"),$=d("span"),w=C(N),ee=y(),v=d("button"),v.textContent="Sign Out",l(t,"class","text-gray-600 dark:text-gray-300"),l(a,"class","text-sm text-gray-600 dark:text-gray-300 hidden sm:inline"),l(_,"class",k="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(e[8]==="word-to-definition"?"translate-x-6":"translate-x-1")),l(m,"class",b="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(e[8]==="word-to-definition"?"bg-blue-500":"bg-gray-400")),l(E,"class","text-sm text-gray-600 dark:text-gray-300 min-w-0"),l(f,"class","flex items-center gap-3"),l(n,"class","flex justify-between items-center mb-4"),l(L,"class","text-blue-500 hover:text-blue-600 underline"),l(Z,"class","text-center mt-6"),l($,"class","text-gray-600 dark:text-gray-300 text-sm"),l(v,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),l(G,"class","flex justify-center items-center gap-4"),l(q,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700")},m(x,M){O(x,n,M),i(n,t),i(t,o),i(t,s),i(t,p),i(t,h),i(n,c),i(n,f),i(f,a),i(f,u),i(f,m),i(m,_),i(f,D),i(f,E),i(E,B),O(x,Q,M),Me(A,x,M),O(x,j,M),O(x,Z,M),i(Z,L),O(x,Y,M),O(x,q,M),i(q,G),i(G,$),i($,w),i(G,ee),i(G,v),P=!0,J||(ie=[T(m,"click",e[16]),T(L,"click",e[22]),T(v,"click",e[13])],J=!0)},p(x,M){(!P||M[0]&2)&&r!==(r=x[1]+1+"")&&R(s,r),(!P||M[0]&1)&&g!==(g=x[0].length+"")&&R(h,g),(!P||M[0]&256&&k!==(k="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(x[8]==="word-to-definition"?"translate-x-6":"translate-x-1")))&&l(_,"class",k),(!P||M[0]&256&&b!==(b="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(x[8]==="word-to-definition"?"bg-blue-500":"bg-gray-400")))&&l(m,"class",b),(!P||M[0]&256)&&F!==(F=x[8]==="word-to-definition"?"Word → Definition":"Definition → Word")&&R(B,F);const re={};M[0]&2048&&(re.currentCard=x[11]),M[0]&256&&(re.studyMode=x[8]),!z&&M[0]&32&&(z=!0,re.showDefinition=x[5],rt(()=>z=!1)),A.$set(re),(!P||M[0]&8)&&N!==(N=x[3]?`Signed in as ${x[3].name}`:"Signed in")&&R(w,N)},i(x){P||(ce(A.$$.fragment,x),P=!0)},o(x){pe(A.$$.fragment,x),P=!1},d(x){x&&(I(n),I(Q),I(j),I(Z),I(Y),I(q)),Ee(A,x),J=!1,se(ie)}}}function Pt(e){let n;return{c(){n=d("div"),n.innerHTML='<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div> <p class="text-gray-600 dark:text-gray-300">Loading flashcards...</p></div>',l(n,"class","text-center")},m(t,o){O(t,n,o)},p:V,i:V,o:V,d(t){t&&I(n)}}}function Mt(e){let n,t;return n=new _t({}),n.$on("selected",e[14]),{c(){Je(n.$$.fragment)},m(o,r){Me(n,o,r),t=!0},p:V,i(o){t||(ce(n.$$.fragment,o),t=!0)},o(o){pe(n.$$.fragment,o),t=!1},d(o){Ee(n,o)}}}function Ge(e){let n,t,o,r=Math.round(e[6].known/e[6].total*100)+"",s,p,g,h,c;return{c(){n=d("div"),t=d("div"),o=C("Accuracy: "),s=C(r),p=C("%"),g=y(),h=d("div"),c=d("div"),l(t,"class","text-sm text-gray-600 dark:text-gray-300 mb-2"),l(c,"class","bg-green-500 h-2 rounded-full transition-all duration-300"),oe(c,"width",e[6].known/e[6].total*100+"%"),l(h,"class","w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2"),l(n,"class","mt-4")},m(f,a){O(f,n,a),i(n,t),i(t,o),i(t,s),i(t,p),i(n,g),i(n,h),i(h,c)},p(f,a){a[0]&64&&r!==(r=Math.round(f[6].known/f[6].total*100)+"")&&R(s,r),a[0]&64&&oe(c,"width",f[6].known/f[6].total*100+"%")},d(f){f&&I(n)}}}function Re(e){let n,t,o,r=e[3]?`Signed in as ${e[3].name}`:"Signed in",s,p,g,h,c;return{c(){n=d("div"),t=d("div"),o=d("span"),s=C(r),p=y(),g=d("button"),g.textContent="Sign Out",l(o,"class","text-gray-600 dark:text-gray-300 text-sm"),l(g,"class","bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors duration-200 text-sm"),l(t,"class","flex justify-center items-center gap-4"),l(n,"class","text-center mt-8 pt-4 border-t border-gray-200 dark:border-gray-700")},m(f,a){O(f,n,a),i(n,t),i(t,o),i(o,s),i(t,p),i(t,g),h||(c=T(g,"click",e[13]),h=!0)},p(f,a){a[0]&8&&r!==(r=f[3]?`Signed in as ${f[3].name}`:"Signed in")&&R(s,r)},d(f){f&&I(n),h=!1,c()}}}function Et(e){let n,t,o,r,s,p,g;const h=[xt,yt],c=[];function f(a,u){return a[2]?1:0}return s=f(e),p=c[s]=h[s](e),{c(){n=d("main"),t=d("div"),o=d("header"),o.innerHTML='<h1 class="text-4xl font-bold text-gray-800 dark:text-white mb-2">mFlashcards</h1>',r=y(),p.c(),l(o,"class","text-center mb-8"),l(t,"class","max-w-4xl mx-auto"),l(n,"class","min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4")},m(a,u){O(a,n,u),i(n,t),i(t,o),i(t,r),c[s].m(t,null),g=!0},p(a,u){let m=s;s=f(a),s===m?c[s].p(a,u):(Ye(),pe(c[m],1,1,()=>{c[m]=null}),qe(),p=c[s],p?p.p(a,u):(p=c[s]=h[s](a),p.c()),ce(p,1),p.m(t,null))},i(a){g||(ce(p),g=!0)},o(a){pe(p),g=!1},d(a){a&&I(n),c[s].d()}}}const It="https://sheets.googleapis.com/$discovery/rest?version=v4",At="https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/userinfo.profile";function Tt(){return new Promise(e=>{const n=()=>{typeof window.gapi<"u"&&typeof window.google<"u"?e():setTimeout(n,100)};n()})}async function Ot(){await new Promise(e=>{window.gapi.load("client",e)}),await window.gapi.client.init({discoveryDocs:[It]})}function xe(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}}function Ft(e,n,t){let o,r,s=!1,p=null,g=null,h=null,c=[],f=0,a=!1,u={total:0,known:0,unknown:0},m=!1,_="word-to-definition",k=!1,b;nt(async()=>{if(typeof window<"u"){await Tt(),await Ot(),await D();const v=localStorage.getItem("google_access_token"),P=localStorage.getItem("user_profile");if(v){if(p=v,window.gapi.client.setToken({access_token:p}),t(2,s=!0),P)try{t(3,g=JSON.parse(P))}catch(J){console.error("Error parsing saved profile:",J),await F()}else await F();await Q()}}});async function D(){b=google.accounts.oauth2.initTokenClient({client_id:"828760418951-ss53asiek3mm9djh818op49fgl4apj3m.apps.googleusercontent.com",scope:At,callback:async v=>{v.access_token&&(p=v.access_token,localStorage.setItem("google_access_token",p),window.gapi.client.setToken({access_token:p}),t(2,s=!0),await F(),await Q())}})}function E(){b&&b.requestAccessToken()}async function F(){try{const v=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${p}`}});v.ok&&(t(3,g=await v.json()),localStorage.setItem("user_profile",JSON.stringify(g)))}catch(v){console.error("Error fetching user profile:",v)}}function B(){p&&(google.accounts.oauth2.revoke(p),localStorage.removeItem("google_access_token"),localStorage.removeItem("user_profile")),t(2,s=!1),p=null,t(3,g=null),t(4,h=null),t(0,c=[]),j()}async function Q(){console.log("🔍 Checking for existing mFlashcards spreadsheet...");try{if(!window.gapi||!window.gapi.client){console.log("❌ GAPI client not available");return}console.log("📋 Searching Google Drive...");const v=await window.gapi.client.request({path:"https://www.googleapis.com/drive/v3/files",params:{q:"name='mFlashcards' and mimeType='application/vnd.google-apps.spreadsheet' and trashed=false",fields:"files(id, name, createdTime)"}});if(console.log("🔍 Drive API response:",v),v.result.files&&v.result.files.length>0){const P=v.result.files[0];console.log("✅ Found existing mFlashcards file:",P),t(4,h=P.id),await z()}else console.log("❌ No existing mFlashcards file found in Google Drive"),console.log("💡 You can create one or select an existing spreadsheet")}catch(v){console.error("❌ Error checking for existing spreadsheet:",v),console.log("Response status:",v.status),console.log("Response body:",v.body),v.status===403&&console.log("🔐 Permission denied - make sure Drive API is enabled and scopes are correct")}}async function A(v){t(4,h=v.detail.id),await z()}async function z(){if(h){t(7,m=!0);try{const J=((await window.gapi.client.sheets.spreadsheets.get({spreadsheetId:h})).result.sheets||[]).map(U=>U.properties.title);if(console.log("Available sheets:",J),!J.includes("mFlashcards"))throw new Error(`mFlashcards sheet not found. Available sheets: ${J.join(", ")}`);const X=(await window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:h,range:"mFlashcards!A:B"})).result.values||[];if(console.log("Raw data from sheet:",X),X.length===0)throw new Error("mFlashcards sheet is empty");if(X.length===1)throw new Error("mFlashcards sheet only has headers. Add some flashcard data below the headers.");if(t(0,c=X.slice(1).map(([U,x])=>({word:U||"",definition:x||""})).filter(U=>U.word&&U.definition)),c.length===0)throw new Error("No valid flashcard pairs found. Make sure both Word and Definition columns have data.");xe(c),j(),console.log("Loaded flashcards:",c)}catch(v){console.error("Error loading spreadsheet data:",v);let P="Error loading spreadsheet data: ";v.status===403?P+="Permission denied. Make sure the spreadsheet is accessible and you have edit permissions.":v.status===404?P+="Spreadsheet not found. Make sure you selected the correct file.":v.message?P+=v.message:P+="Unknown error occurred.",alert(P)}finally{t(7,m=!1)}}}function j(){xe(c),t(1,f=0),t(5,a=!1),t(6,u={total:0,known:0,unknown:0}),t(9,k=!1)}function Z(){t(8,_=_==="word-to-definition"?"definition-to-word":"word-to-definition"),t(5,a=!1)}function L(){t(5,a=!1),t(1,f=f+1),f>=c.length&&t(9,k=!0)}function Y(){t(6,u.total++,u),t(6,u.known++,u),L()}function q(){t(6,u.total++,u),t(6,u.unknown++,u),L()}function G(){xe(c),j()}function $(v){a=v,t(5,a)}const N=()=>t(4,h=null),w=()=>t(4,h=null),ee=()=>t(4,h=null);return e.$$.update=()=>{e.$$.dirty[0]&3&&t(11,o=c[f]),e.$$.dirty[0]&1&&t(10,r=c.length>0)},[c,f,s,g,h,a,u,m,_,k,r,o,E,B,A,j,Z,L,Y,q,G,$,N,w,ee]}class jt extends Ae{constructor(n){super(),Ie(this,n,Ft,Et,Pe,{},null,[-1,-1])}}new jt({target:document.getElementById("app")});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/mFlashcards/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});
//# sourceMappingURL=index-BQvjM7bl.js.map
